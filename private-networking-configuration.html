<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Private Networking Configuration | DevOps for Data Science (working title)</title>
  <meta name="description" content="A book on DevOps for data science and data scientists." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Private Networking Configuration | DevOps for Data Science (working title)" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A book on DevOps for data science and data scientists." />
  <meta name="github-repo" content="akgold/do4ds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Private Networking Configuration | DevOps for Data Science (working title)" />
  
  <meta name="twitter:description" content="A book on DevOps for data science and data scientists." />
  

<meta name="author" content="Alex Gold" />


<meta name="date" content="2021-11-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="networking.html"/>
<link rel="next" href="ssh.html"/>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block/empty-anchor.js"></script>
<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DO4DS</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#moving-data-science-to-a-server"><i class="fa fa-check"></i><b>0.1</b> Moving Data Science to A Server</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-information-and-conventions"><i class="fa fa-check"></i>Software information and conventions</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#components"><i class="fa fa-check"></i><b>1.1</b> Components</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="command-line.html"><a href="command-line.html"><i class="fa fa-check"></i><b>2</b> The Command Line</a></li>
<li class="chapter" data-level="3" data-path="computers-and-servers.html"><a href="computers-and-servers.html"><i class="fa fa-check"></i><b>3</b> Computers and Servers</a><ul>
<li class="chapter" data-level="3.1" data-path="computers-and-servers.html"><a href="computers-and-servers.html#computers-are-addition-factories"><i class="fa fa-check"></i><b>3.1</b> Computers are addition factories</a><ul>
<li class="chapter" data-level="3.1.1" data-path="computers-and-servers.html"><a href="computers-and-servers.html#compute"><i class="fa fa-check"></i><b>3.1.1</b> Compute</a></li>
<li class="chapter" data-level="3.1.2" data-path="computers-and-servers.html"><a href="computers-and-servers.html#memory-ram"><i class="fa fa-check"></i><b>3.1.2</b> Memory (RAM)</a></li>
<li class="chapter" data-level="3.1.3" data-path="computers-and-servers.html"><a href="computers-and-servers.html#storage-hard-drivedisk"><i class="fa fa-check"></i><b>3.1.3</b> Storage (Hard Drive/Disk)</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="computers-and-servers.html"><a href="computers-and-servers.html#choosing-the-right-data-science-machine"><i class="fa fa-check"></i><b>3.2</b> Choosing the right data science machine</a><ul>
<li class="chapter" data-level="3.2.1" data-path="computers-and-servers.html"><a href="computers-and-servers.html#get-as-much-ram-as-feasible"><i class="fa fa-check"></i><b>3.2.1</b> Get as much RAM as feasible</a></li>
<li class="chapter" data-level="3.2.2" data-path="computers-and-servers.html"><a href="computers-and-servers.html#go-for-fewer-faster-cores-in-the-cpu"><i class="fa fa-check"></i><b>3.2.2</b> Go for fewer, faster cores in the CPU</a></li>
<li class="chapter" data-level="3.2.3" data-path="computers-and-servers.html"><a href="computers-and-servers.html#get-a-gpumaybe"><i class="fa fa-check"></i><b>3.2.3</b> Get a GPU…maybe…</a></li>
<li class="chapter" data-level="3.2.4" data-path="computers-and-servers.html"><a href="computers-and-servers.html#get-a-lot-of-storage-its-cheap"><i class="fa fa-check"></i><b>3.2.4</b> Get a lot of storage, it’s cheap</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="computers-and-servers.html"><a href="computers-and-servers.html#is-a-server-different"><i class="fa fa-check"></i><b>3.3</b> Is a server different?</a></li>
<li class="chapter" data-level="3.4" data-path="computers-and-servers.html"><a href="computers-and-servers.html#getting-a-server-of-your-own"><i class="fa fa-check"></i><b>3.4</b> Getting a server of your own</a><ul>
<li class="chapter" data-level="3.4.1" data-path="computers-and-servers.html"><a href="computers-and-servers.html#login-to-the-aws-console"><i class="fa fa-check"></i><b>3.4.1</b> Login to the AWS Console</a></li>
<li class="chapter" data-level="3.4.2" data-path="computers-and-servers.html"><a href="computers-and-servers.html#stand-up-an-instance"><i class="fa fa-check"></i><b>3.4.2</b> Stand up an instance</a></li>
<li class="chapter" data-level="3.4.3" data-path="computers-and-servers.html"><a href="computers-and-servers.html#ssh-into-the-server"><i class="fa fa-check"></i><b>3.4.3</b> SSH into the server</a></li>
<li class="chapter" data-level="3.4.4" data-path="computers-and-servers.html"><a href="computers-and-servers.html#doing-a-thing"><i class="fa fa-check"></i><b>3.4.4</b> Doing A Thing</a></li>
<li class="chapter" data-level="3.4.5" data-path="computers-and-servers.html"><a href="computers-and-servers.html#burn-it-all-down"><i class="fa fa-check"></i><b>3.4.5</b> Burn it all down</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="computers-and-servers.html"><a href="computers-and-servers.html#exercises"><i class="fa fa-check"></i><b>3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="networking.html"><a href="networking.html"><i class="fa fa-check"></i><b>4</b> Getting Traffic Across the Internet – URLs and <code>https</code></a><ul>
<li class="chapter" data-level="4.1" data-path="networking.html"><a href="networking.html#anatomy-of-a-url"><i class="fa fa-check"></i><b>4.1</b> Anatomy of a URL</a></li>
<li class="chapter" data-level="4.2" data-path="networking.html"><a href="networking.html#application-layer-protocols-https"><i class="fa fa-check"></i><b>4.2</b> Application Layer Protocols: <code>http(s)</code></a><ul>
<li class="chapter" data-level="4.2.1" data-path="networking.html"><a href="networking.html#what-really-is-http-traffic"><i class="fa fa-check"></i><b>4.2.1</b> What really is <code>http</code> traffic?</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="networking.html"><a href="networking.html#getting-a-real-url"><i class="fa fa-check"></i><b>4.3</b> Getting a real URL</a><ul>
<li class="chapter" data-level="4.3.1" data-path="networking.html"><a href="networking.html#an-aside-about-ip-addresses"><i class="fa fa-check"></i><b>4.3.1</b> An aside about IP addresses…</a></li>
<li class="chapter" data-level="4.3.2" data-path="networking.html"><a href="networking.html#getting-a-domain"><i class="fa fa-check"></i><b>4.3.2</b> Getting a Domain</a></li>
<li class="chapter" data-level="4.3.3" data-path="networking.html"><a href="networking.html#learning-to-hate-dns"><i class="fa fa-check"></i><b>4.3.3</b> Learning to Hate DNS</a></li>
<li class="chapter" data-level="4.3.4" data-path="networking.html"><a href="networking.html#trying-it-out"><i class="fa fa-check"></i><b>4.3.4</b> Trying it out</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="networking.html"><a href="networking.html#securing-your-traffic-with-ssltls"><i class="fa fa-check"></i><b>4.4</b> Securing your traffic with SSL/TLS</a><ul>
<li class="chapter" data-level="4.4.1" data-path="networking.html"><a href="networking.html#how-ssltls-enhances-security"><i class="fa fa-check"></i><b>4.4.1</b> How SSL/TLS Enhances Security</a></li>
<li class="chapter" data-level="4.4.2" data-path="networking.html"><a href="networking.html#getting-a-cert-of-your-own"><i class="fa fa-check"></i><b>4.4.2</b> Getting a cert of your own</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="networking.html"><a href="networking.html#exercises-1"><i class="fa fa-check"></i><b>4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="private-networking-configuration.html"><a href="private-networking-configuration.html"><i class="fa fa-check"></i><b>5</b> Private Networking Configuration</a><ul>
<li class="chapter" data-level="5.1" data-path="private-networking-configuration.html"><a href="private-networking-configuration.html#finding-the-right-server-with-hostnames"><i class="fa fa-check"></i><b>5.1</b> Finding the right server with hostnames</a></li>
<li class="chapter" data-level="5.2" data-path="private-networking-configuration.html"><a href="private-networking-configuration.html#the-role-of-forward-and-reverse-proxies"><i class="fa fa-check"></i><b>5.2</b> The role of forward and reverse proxies</a></li>
<li class="chapter" data-level="5.3" data-path="private-networking-configuration.html"><a href="private-networking-configuration.html#using-ports-to-get-to-the-right-service"><i class="fa fa-check"></i><b>5.3</b> Using ports to get to the right service</a></li>
<li class="chapter" data-level="5.4" data-path="private-networking-configuration.html"><a href="private-networking-configuration.html#configuring-the-private-network"><i class="fa fa-check"></i><b>5.4</b> Configuring the private network</a><ul>
<li class="chapter" data-level="5.4.1" data-path="private-networking-configuration.html"><a href="private-networking-configuration.html#restricting-outbound-connections"><i class="fa fa-check"></i><b>5.4.1</b> Restricting Outbound Connections</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="private-networking-configuration.html"><a href="private-networking-configuration.html#special-ip-addresses-and-ports"><i class="fa fa-check"></i><b>5.5</b> Special IP Addresses and Ports</a></li>
<li class="chapter" data-level="5.6" data-path="private-networking-configuration.html"><a href="private-networking-configuration.html#exercises-2"><i class="fa fa-check"></i><b>5.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ssh.html"><a href="ssh.html"><i class="fa fa-check"></i><b>6</b> Accessing Servers via SSH</a><ul>
<li class="chapter" data-level="6.1" data-path="ssh.html"><a href="ssh.html#what-is-ssh"><i class="fa fa-check"></i><b>6.1</b> What is SSH?</a></li>
<li class="chapter" data-level="6.2" data-path="ssh.html"><a href="ssh.html#how-does-ssh-work"><i class="fa fa-check"></i><b>6.2</b> How does SSH work?</a></li>
<li class="chapter" data-level="6.3" data-path="ssh.html"><a href="ssh.html#basic-ssh-use"><i class="fa fa-check"></i><b>6.3</b> Basic SSH Use</a></li>
<li class="chapter" data-level="6.4" data-path="ssh.html"><a href="ssh.html#getting-comfortable-in-your-own-setup"><i class="fa fa-check"></i><b>6.4</b> Getting Comfortable in your own setup</a></li>
<li class="chapter" data-level="6.5" data-path="ssh.html"><a href="ssh.html#advanced-ssh-tips-tricks"><i class="fa fa-check"></i><b>6.5</b> Advanced SSH Tips + Tricks</a></li>
<li class="chapter" data-level="6.6" data-path="ssh.html"><a href="ssh.html#exercises-3"><i class="fa fa-check"></i><b>6.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="auth.html"><a href="auth.html"><i class="fa fa-check"></i><b>7</b> How login works</a><ul>
<li class="chapter" data-level="7.1" data-path="auth.html"><a href="auth.html#the-many-flavors-of-auth-or-what-does-sso-mean"><i class="fa fa-check"></i><b>7.1</b> The many flavors of auth (or what does SSO mean?)</a></li>
<li class="chapter" data-level="7.2" data-path="auth.html"><a href="auth.html#auth-techniques"><i class="fa fa-check"></i><b>7.2</b> Auth Techniques</a><ul>
<li class="chapter" data-level="7.2.1" data-path="auth.html"><a href="auth.html#you-get-a-permission-and-you-get-a-permission"><i class="fa fa-check"></i><b>7.2.1</b> You get a permission and you get a permission!</a></li>
<li class="chapter" data-level="7.2.2" data-path="auth.html"><a href="auth.html#authorization-is-kinda-hard"><i class="fa fa-check"></i><b>7.2.2</b> Authorization is kinda hard</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="auth.html"><a href="auth.html#auth-technologies"><i class="fa fa-check"></i><b>7.3</b> Auth Technologies</a><ul>
<li class="chapter" data-level="7.3.1" data-path="auth.html"><a href="auth.html#username-password"><i class="fa fa-check"></i><b>7.3.1</b> Username + Password</a></li>
<li class="chapter" data-level="7.3.2" data-path="auth.html"><a href="auth.html#pam"><i class="fa fa-check"></i><b>7.3.2</b> PAM</a></li>
<li class="chapter" data-level="7.3.3" data-path="auth.html"><a href="auth.html#ldapad"><i class="fa fa-check"></i><b>7.3.3</b> LDAP/AD</a></li>
<li class="chapter" data-level="7.3.4" data-path="auth.html"><a href="auth.html#kerberos-tickets"><i class="fa fa-check"></i><b>7.3.4</b> Kerberos Tickets</a></li>
<li class="chapter" data-level="7.3.5" data-path="auth.html"><a href="auth.html#saml"><i class="fa fa-check"></i><b>7.3.5</b> SAML</a></li>
<li class="chapter" data-level="7.3.6" data-path="auth.html"><a href="auth.html#oidcoauth2.0"><i class="fa fa-check"></i><b>7.3.6</b> OIDC/OAuth2.0</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html"><i class="fa fa-check"></i><b>8</b> Choosing and Using A Data Architecture</a><ul>
<li class="chapter" data-level="8.1" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html#options-for-data-storage"><i class="fa fa-check"></i><b>8.1</b> Options for Data Storage</a></li>
<li class="chapter" data-level="8.2" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html#how-to-pick"><i class="fa fa-check"></i><b>8.2</b> How to pick</a></li>
<li class="chapter" data-level="8.3" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html#working-with-file-systems"><i class="fa fa-check"></i><b>8.3</b> Working with File Systems</a></li>
<li class="chapter" data-level="8.4" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html#database"><i class="fa fa-check"></i><b>8.4</b> Working with Databases</a><ul>
<li class="chapter" data-level="8.4.1" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html#security"><i class="fa fa-check"></i><b>8.4.1</b> Security</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html#exercises-4"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="environments-and-reproducibility.html"><a href="environments-and-reproducibility.html"><i class="fa fa-check"></i><b>9</b> Environments and Reproducibility</a></li>
<li class="chapter" data-level="10" data-path="the-cloud.html"><a href="the-cloud.html"><i class="fa fa-check"></i><b>10</b> The Cloud</a><ul>
<li class="chapter" data-level="10.1" data-path="the-cloud.html"><a href="the-cloud.html#the-rise-of-services"><i class="fa fa-check"></i><b>10.1</b> The Rise of Services</a></li>
<li class="chapter" data-level="10.2" data-path="the-cloud.html"><a href="the-cloud.html#common-services-that-will-be-helpful-to-know-offhand"><i class="fa fa-check"></i><b>10.2</b> Common Services That will be helpful to know offhand</a></li>
<li class="chapter" data-level="10.3" data-path="the-cloud.html"><a href="the-cloud.html#cloud-tooling"><i class="fa fa-check"></i><b>10.3</b> Cloud Tooling</a><ul>
<li class="chapter" data-level="10.3.1" data-path="the-cloud.html"><a href="the-cloud.html#iaas"><i class="fa fa-check"></i><b>10.3.1</b> IaaS</a></li>
<li class="chapter" data-level="10.3.2" data-path="the-cloud.html"><a href="the-cloud.html#not-iaas"><i class="fa fa-check"></i><b>10.3.2</b> Not IaaS</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="the-cloud.html"><a href="the-cloud.html#exercises-5"><i class="fa fa-check"></i><b>10.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="it-and-data-science-workflows.html"><a href="it-and-data-science-workflows.html"><i class="fa fa-check"></i><b>11</b> IT and Data Science Workflows</a><ul>
<li class="chapter" data-level="11.1" data-path="it-and-data-science-workflows.html"><a href="it-and-data-science-workflows.html#devtestprod"><i class="fa fa-check"></i><b>11.1</b> Dev/Test/Prod</a></li>
<li class="chapter" data-level="11.2" data-path="it-and-data-science-workflows.html"><a href="it-and-data-science-workflows.html#cattle-not-pets"><i class="fa fa-check"></i><b>11.2</b> Cattle, Not Pets</a></li>
<li class="chapter" data-level="11.3" data-path="it-and-data-science-workflows.html"><a href="it-and-data-science-workflows.html#how-does-stuff-actually-get-deployed"><i class="fa fa-check"></i><b>11.3</b> How Does Stuff Actually Get Deployed</a></li>
<li class="chapter" data-level="11.4" data-path="it-and-data-science-workflows.html"><a href="it-and-data-science-workflows.html#exercises-6"><i class="fa fa-check"></i><b>11.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="scaling.html"><a href="scaling.html"><i class="fa fa-check"></i><b>12</b> Scaling</a><ul>
<li class="chapter" data-level="12.1" data-path="scaling.html"><a href="scaling.html#types-of-scaling"><i class="fa fa-check"></i><b>12.1</b> Types of Scaling</a></li>
<li class="chapter" data-level="12.2" data-path="scaling.html"><a href="scaling.html#load-balancing-configurations"><i class="fa fa-check"></i><b>12.2</b> Load-Balancing configurations</a></li>
<li class="chapter" data-level="12.3" data-path="scaling.html"><a href="scaling.html#adding-servers-in-real-time"><i class="fa fa-check"></i><b>12.3</b> Adding servers in real time</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="docker.html"><a href="docker.html"><i class="fa fa-check"></i><b>13</b> Docker</a><ul>
<li class="chapter" data-level="13.1" data-path="docker.html"><a href="docker.html#container-orchestration"><i class="fa fa-check"></i><b>13.1</b> Container Orchestration</a></li>
<li class="chapter" data-level="13.2" data-path="docker.html"><a href="docker.html#exercises-7"><i class="fa fa-check"></i><b>13.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="offline.html"><a href="offline.html"><i class="fa fa-check"></i><b>14</b> Offline</a></li>
<li class="chapter" data-level="15" data-path="things-to-add-additional-topics.html"><a href="things-to-add-additional-topics.html"><i class="fa fa-check"></i><b>15</b> Things To Add (Additional Topics)</a></li>
<li class="chapter" data-level="16" data-path="determining-what-you-need.html"><a href="determining-what-you-need.html"><i class="fa fa-check"></i><b>16</b> Determining What You Need</a></li>
<li class="chapter" data-level="17" data-path="getting-started-with-terminal.html"><a href="getting-started-with-terminal.html"><i class="fa fa-check"></i><b>17</b> Getting Started with Terminal</a></li>
<li class="chapter" data-level="18" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html"><i class="fa fa-check"></i><b>18</b> Useful Shell Commands</a><ul>
<li class="chapter" data-level="18.1" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html#miscellaneous-symbols"><i class="fa fa-check"></i><b>18.1</b> Miscellaneous Symbols</a></li>
<li class="chapter" data-level="18.2" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html#moving-yourself-and-your-files"><i class="fa fa-check"></i><b>18.2</b> Moving yourself and your files</a></li>
<li class="chapter" data-level="18.3" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html#checking-out-files"><i class="fa fa-check"></i><b>18.3</b> Checking out Files</a></li>
<li class="chapter" data-level="18.4" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html#checking-out-server-activity"><i class="fa fa-check"></i><b>18.4</b> Checking out Server Activity</a></li>
<li class="chapter" data-level="18.5" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html#checking-out-networking"><i class="fa fa-check"></i><b>18.5</b> Checking out Networking</a></li>
<li class="chapter" data-level="18.6" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html#user-management"><i class="fa fa-check"></i><b>18.6</b> User Management</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="more-to-say.html"><a href="more-to-say.html"><i class="fa fa-check"></i><b>A</b> More to Say</a><ul>
<li class="chapter" data-level="A.1" data-path="more-to-say.html"><a href="more-to-say.html#an-aside-on-open-source"><i class="fa fa-check"></i><b>A.1</b> An aside on open source</a></li>
<li class="chapter" data-level="A.2" data-path="more-to-say.html"><a href="more-to-say.html#headers"><i class="fa fa-check"></i><b>A.2</b> Headers</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DevOps for Data Science (working title)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="private-networking-configuration" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Private Networking Configuration</h1>
<p>In the previous chapter, we talked about the first level of upgrades for your data science server – getting a real URL and configuring <code>https</code> for security. So now, the internet is knocking on the front gate of your server.</p>
<p>This chapter will be all about how to configure networking on the private siIn this chapter, we’ll talk about how to get traffic from the front door to the right apartment.</p>
<p>It wasn’t obvious, but when you set up the server in the first chapter, you also actually created a private network for the server to live in called a <em>virtual private cloud (VPC)</em>.</p>
<p>As your server configuration gets more complicated, you’re going to put more different servers inside the virtual private cloud. So instead of thinking of your traffic as coming to the front door of your little server/cottage, I think it’s a more helpful analogy to think of coming to the guard box at the front gate of a gated community of apartment buildings.</p>
<p>You’re at the front gate, but still need to find your way to the right building and then to the right apartment inside that building.</p>
<p>Up until now, we’ve been pretending like the server you put up in the first chapter was actually just on the public internet – so it makes sense to ask why we wouldn’t actually just do that.</p>
<p>The two reasons are security and reducing administrative headaches.</p>
<p>The other reason to make extensive use of private networks has to do with ease-of-configuration. Inside a private network, it’s generally ok to say “accept connections from any server inside the network”, and take care of security at the front gate of the network. Otherwise, you’ve got to be much more careful about how you configure each individual server, which is both more work and a potential security vulnerability if you don’t do it right.</p>
<p>In the case of a data science environment you may have a number of different servers you’re setting up – a server for doing data science work, a database, a package repository mirror, and a server for deploying your apps to others.</p>
<p>Similarly, because there are single points of ingress and egress (sometimes), security is heightened by having only one way in or out, as opposed to opening the entire network or each server individually to the internet.</p>
<p>Using public and private subnets is also really nice for server resiliency. Say your network was attacked with a DDOS attack, where someone tries to overwhelm your servers with junk attacks to take down your servers. It’s way better if they manage to succeed at taking down your server, but it’s just a proxy as opposed to your analytics workhorse server or a mission-critical database.</p>
<p>When configuring servers this way, it’s very common to configure an additional server called a bastion host or jumpbox that is used solely to pass SSH traffic from server administrators through to the hosts in the private network.</p>
<div id="finding-the-right-server-with-hostnames" class="section level2">
<h2><span class="header-section-number">5.1</span> Finding the right server with hostnames</h2>
<p>Like we configured a URL to have an abstraction layer between our IP address and our server, we also will usually configure a <em>hostname</em> rather than using IP addresses.</p>
</div>
<div id="the-role-of-forward-and-reverse-proxies" class="section level2">
<h2><span class="header-section-number">5.2</span> The role of forward and reverse proxies</h2>
</div>
<div id="using-ports-to-get-to-the-right-service" class="section level2">
<h2><span class="header-section-number">5.3</span> Using ports to get to the right service</h2>
<p>Let’s say you want to run software on a server. One of the big differences between server software, and software on your laptop is that server software needs to be able to interact with the outside world to be useful.</p>
<p>For example, when you want to use Microsoft Word on your computer, you just click on the button and then it’s ready to go. But say I want to use RStudio Server. I don’t have a desktop where I click to open RStudio Server. Instead, I go to a particular URL and I expect that RStudio will be there, ready to listen.</p>
</div>
<div id="configuring-the-private-network" class="section level2">
<h2><span class="header-section-number">5.4</span> Configuring the private network</h2>
<p>A private network is defined by a range of IP addresses, called CIDR blocks. A CIDR block defines the sub-addresses available inside an IP address using a /n notation. So the CIDR block 10.0.0.0/16 is the largest possible CIDR block and includes all IP addresses from 10.0.0.0 to 10.255.255.255.</p>
<p>The numbers after the / are related to powers of 2 (binary something blah), so you can fit 2 /x+1 CIDR blocks in a single /x block.</p>
<p>So, for example, there are 128 IP addresses in a /25 CIDR block, and 256 in a /24 CIDR block, so 10.0.0.0/24 could have two subnets, 10.0.0.0/25 and 10.0.0.128/25.</p>
<div id="restricting-outbound-connections" class="section level3">
<h3><span class="header-section-number">5.4.1</span> Restricting Outbound Connections</h3>
<p>In AWS, you’ll configure egress from private subnets using a NAT Gateway. Egress from the public subnets goes through the Internet Gateway. Egress is actually needed less than you might think - in our current setup, it’s needed for package updates to RSPM (the RSPM service, not RSP to RSPM), to do google OAuth to the google servers (rstudioservices only), get stuff from github, update products, and get content from apt/yum repos.</p>
<p>In Colorado, it’s not needed for RSC because the SAML token is in the browser. It is needed for RSP because Onelogin is outside the VPC. This is generally not the case for customers, who are mostly using on-prem AD servers.</p>
</div>
</div>
<div id="special-ip-addresses-and-ports" class="section level2">
<h2><span class="header-section-number">5.5</span> Special IP Addresses and Ports</h2>
<p>All ports below 1024 reserved.</p>
<p>80 - HTTP default</p>
<p>443 - HTTPS default</p>
<p>22 - SSH default</p>
</div>
<div id="exercises-2" class="section level2">
<h2><span class="header-section-number">5.6</span> Exercises</h2>
<p>Consider going to the website google.com. Draw a diagram of how the following are incorporated: TCP/IP, DNS, HTTP, HTTPS.</p>
<p>Set up a free-tier EC2 instance and put an NGINX server up. Figure out how to allow your computer to access the server, but not your phone. Try accessing it on a non-default port.</p>
<p>Try to HTTP into a fresh EC2 with the default security group. Take a look at the inbound security group rules. Hint: is there an inbound rule on a default HTTP port?</p>
<p>SSH into your EC2 instance and try to reach out to something on the internet (curl…). See if you can change security group rules to shut down access.</p>
<p>Can you do it by changing the IP address range it’s accepting connections from?</p>
<p>Can you do it by changing the listening ports?</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="networking.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ssh.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/akgold/do4ds/edit/main/202-private-network-config.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
