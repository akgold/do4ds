<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Authentication – Making Login Possible | DevOps for Data Science (working title)</title>
  <meta name="description" content="A book on DevOps for data science and data scientists." />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Authentication – Making Login Possible | DevOps for Data Science (working title)" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A book on DevOps for data science and data scientists." />
  <meta name="github-repo" content="akgold/dv4ds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Authentication – Making Login Possible | DevOps for Data Science (working title)" />
  
  <meta name="twitter:description" content="A book on DevOps for data science and data scientists." />
  

<meta name="author" content="Alex Gold" />


<meta name="date" content="2021-08-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ssh.html"/>
<link rel="next" href="choosing-and-using-a-data-architecture.html"/>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block/empty-anchor.js"></script>
<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DO4DS</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-information-and-conventions"><i class="fa fa-check"></i>Software information and conventions</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#components"><i class="fa fa-check"></i><b>1.1</b> Components</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="command-line.html"><a href="command-line.html"><i class="fa fa-check"></i><b>2</b> The Command Line</a></li>
<li class="chapter" data-level="3" data-path="computers-and-servers.html"><a href="computers-and-servers.html"><i class="fa fa-check"></i><b>3</b> Computers and Servers</a><ul>
<li class="chapter" data-level="3.1" data-path="computers-and-servers.html"><a href="computers-and-servers.html#a-computer-is-really-just-three-things"><i class="fa fa-check"></i><b>3.1</b> A computer is really just three things…</a><ul>
<li class="chapter" data-level="3.1.1" data-path="computers-and-servers.html"><a href="computers-and-servers.html#input-output"><i class="fa fa-check"></i><b>3.1.1</b> Input + Output</a></li>
<li class="chapter" data-level="3.1.2" data-path="computers-and-servers.html"><a href="computers-and-servers.html#compute-cpu-gpu"><i class="fa fa-check"></i><b>3.1.2</b> Compute (CPU + GPU)</a></li>
<li class="chapter" data-level="3.1.3" data-path="computers-and-servers.html"><a href="computers-and-servers.html#storage-hard-drivedisk"><i class="fa fa-check"></i><b>3.1.3</b> Storage (Hard Drive/Disk)</a></li>
<li class="chapter" data-level="3.1.4" data-path="computers-and-servers.html"><a href="computers-and-servers.html#memory-ram"><i class="fa fa-check"></i><b>3.1.4</b> Memory (RAM)</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="computers-and-servers.html"><a href="computers-and-servers.html#choosing-the-right-data-science-machine"><i class="fa fa-check"></i><b>3.2</b> Choosing the right data science machine</a></li>
<li class="chapter" data-level="3.3" data-path="computers-and-servers.html"><a href="computers-and-servers.html#how-is-a-server-different"><i class="fa fa-check"></i><b>3.3</b> How is a server different?</a><ul>
<li class="chapter" data-level="3.3.1" data-path="computers-and-servers.html"><a href="computers-and-servers.html#most-servers-run-linux"><i class="fa fa-check"></i><b>3.3.1</b> Most servers run Linux</a></li>
<li class="chapter" data-level="3.3.2" data-path="computers-and-servers.html"><a href="computers-and-servers.html#an-aside-on-open-source"><i class="fa fa-check"></i><b>3.3.2</b> An aside on open source</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="computers-and-servers.html"><a href="computers-and-servers.html#moving-data-science-to-a-server"><i class="fa fa-check"></i><b>3.4</b> Moving Data Science to A Server</a><ul>
<li class="chapter" data-level="3.4.1" data-path="computers-and-servers.html"><a href="computers-and-servers.html#data-scientist-led-server-migration"><i class="fa fa-check"></i><b>3.4.1</b> Data Scientist-led server migration</a></li>
<li class="chapter" data-level="3.4.2" data-path="computers-and-servers.html"><a href="computers-and-servers.html#sysadmin-led-server-migration"><i class="fa fa-check"></i><b>3.4.2</b> SysAdmin-led server migration</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="computers-and-servers.html"><a href="computers-and-servers.html#getting-a-server-of-your-own"><i class="fa fa-check"></i><b>3.5</b> Getting a server of your own</a><ul>
<li class="chapter" data-level="3.5.1" data-path="computers-and-servers.html"><a href="computers-and-servers.html#login-to-the-aws-console"><i class="fa fa-check"></i><b>3.5.1</b> Login to the AWS Console</a></li>
<li class="chapter" data-level="3.5.2" data-path="computers-and-servers.html"><a href="computers-and-servers.html#stand-up-an-instance"><i class="fa fa-check"></i><b>3.5.2</b> Stand up an instance</a></li>
<li class="chapter" data-level="3.5.3" data-path="computers-and-servers.html"><a href="computers-and-servers.html#ssh-into-the-server"><i class="fa fa-check"></i><b>3.5.3</b> SSH into the server</a></li>
<li class="chapter" data-level="3.5.4" data-path="computers-and-servers.html"><a href="computers-and-servers.html#doing-a-thing"><i class="fa fa-check"></i><b>3.5.4</b> Doing A Thing</a></li>
<li class="chapter" data-level="3.5.5" data-path="computers-and-servers.html"><a href="computers-and-servers.html#burn-it-all-down"><i class="fa fa-check"></i><b>3.5.5</b> Burn it all down</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="computers-and-servers.html"><a href="computers-and-servers.html#exercises"><i class="fa fa-check"></i><b>3.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="networking.html"><a href="networking.html"><i class="fa fa-check"></i><b>4</b> Networking and the Internet</a><ul>
<li class="chapter" data-level="4.1" data-path="networking.html"><a href="networking.html#tcpip-how-packets-find-their-way"><i class="fa fa-check"></i><b>4.1</b> TCP/IP: How packets find their way</a></li>
<li class="chapter" data-level="4.2" data-path="networking.html"><a href="networking.html#ports-the-last-mile"><i class="fa fa-check"></i><b>4.2</b> Ports: The last mile</a></li>
<li class="chapter" data-level="4.3" data-path="networking.html"><a href="networking.html#application-protocols-reading-the-mail"><i class="fa fa-check"></i><b>4.3</b> Application Protocols: Reading the mail</a><ul>
<li class="chapter" data-level="4.3.1" data-path="networking.html"><a href="networking.html#http-and-https"><i class="fa fa-check"></i><b>4.3.1</b> HTTP and HTTPs</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="networking.html"><a href="networking.html#networking-for-your-data-science-servers"><i class="fa fa-check"></i><b>4.4</b> Networking for your data science servers</a></li>
<li class="chapter" data-level="4.5" data-path="networking.html"><a href="networking.html#special-ip-addresses-and-ports"><i class="fa fa-check"></i><b>4.5</b> Special IP Addresses and Ports</a></li>
<li class="chapter" data-level="4.6" data-path="networking.html"><a href="networking.html#special-https-codes"><i class="fa fa-check"></i><b>4.6</b> Special HTTP(S) Codes</a></li>
<li class="chapter" data-level="4.7" data-path="networking.html"><a href="networking.html#exercises-1"><i class="fa fa-check"></i><b>4.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="the-cloud.html"><a href="the-cloud.html"><i class="fa fa-check"></i><b>5</b> The Cloud</a><ul>
<li class="chapter" data-level="5.1" data-path="the-cloud.html"><a href="the-cloud.html#the-rise-of-services"><i class="fa fa-check"></i><b>5.1</b> The Rise of Services</a></li>
<li class="chapter" data-level="5.2" data-path="the-cloud.html"><a href="the-cloud.html#common-services-that-will-be-helpful-to-know-offhand"><i class="fa fa-check"></i><b>5.2</b> Common Services That will be helpful to know offhand</a></li>
<li class="chapter" data-level="5.3" data-path="the-cloud.html"><a href="the-cloud.html#cloud-tooling"><i class="fa fa-check"></i><b>5.3</b> Cloud Tooling</a><ul>
<li class="chapter" data-level="5.3.1" data-path="the-cloud.html"><a href="the-cloud.html#iaas"><i class="fa fa-check"></i><b>5.3.1</b> IaaS</a></li>
<li class="chapter" data-level="5.3.2" data-path="the-cloud.html"><a href="the-cloud.html#not-iaas"><i class="fa fa-check"></i><b>5.3.2</b> Not IaaS</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="the-cloud.html"><a href="the-cloud.html#exercises-2"><i class="fa fa-check"></i><b>5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ssh.html"><a href="ssh.html"><i class="fa fa-check"></i><b>6</b> Accessing Servers via SSH</a><ul>
<li class="chapter" data-level="6.1" data-path="ssh.html"><a href="ssh.html#what-is-ssh"><i class="fa fa-check"></i><b>6.1</b> What is SSH?</a></li>
<li class="chapter" data-level="6.2" data-path="ssh.html"><a href="ssh.html#how-does-ssh-work"><i class="fa fa-check"></i><b>6.2</b> How does SSH work?</a></li>
<li class="chapter" data-level="6.3" data-path="ssh.html"><a href="ssh.html#basic-ssh-use"><i class="fa fa-check"></i><b>6.3</b> Basic SSH Use</a></li>
<li class="chapter" data-level="6.4" data-path="ssh.html"><a href="ssh.html#getting-comfortable-in-your-own-setup"><i class="fa fa-check"></i><b>6.4</b> Getting Comfortable in your own setup</a></li>
<li class="chapter" data-level="6.5" data-path="ssh.html"><a href="ssh.html#advanced-ssh-tips-tricks"><i class="fa fa-check"></i><b>6.5</b> Advanced SSH Tips + Tricks</a></li>
<li class="chapter" data-level="6.6" data-path="ssh.html"><a href="ssh.html#exercises-3"><i class="fa fa-check"></i><b>6.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="auth.html"><a href="auth.html"><i class="fa fa-check"></i><b>7</b> Authentication – Making Login Possible</a><ul>
<li class="chapter" data-level="7.1" data-path="auth.html"><a href="auth.html#your-everyday-experience-of-auth-and-how-it-differs-from-enterprise"><i class="fa fa-check"></i><b>7.1</b> Your Everyday Experience of Auth and How it Differs from Enterprise</a></li>
<li class="chapter" data-level="7.2" data-path="auth.html"><a href="auth.html#what-is-authentication"><i class="fa fa-check"></i><b>7.2</b> What is Authentication?</a></li>
<li class="chapter" data-level="7.3" data-path="auth.html"><a href="auth.html#experiences-of-different-auth-systems"><i class="fa fa-check"></i><b>7.3</b> Experiences of Different Auth Systems</a></li>
<li class="chapter" data-level="7.4" data-path="auth.html"><a href="auth.html#types-of-credentials"><i class="fa fa-check"></i><b>7.4</b> Types of Credentials</a><ul>
<li class="chapter" data-level="7.4.1" data-path="auth.html"><a href="auth.html#usernames-and-passwords"><i class="fa fa-check"></i><b>7.4.1</b> Usernames and Passwords</a></li>
<li class="chapter" data-level="7.4.2" data-path="auth.html"><a href="auth.html#keys"><i class="fa fa-check"></i><b>7.4.2</b> Keys</a></li>
<li class="chapter" data-level="7.4.3" data-path="auth.html"><a href="auth.html#tokens"><i class="fa fa-check"></i><b>7.4.3</b> Tokens</a></li>
<li class="chapter" data-level="7.4.4" data-path="auth.html"><a href="auth.html#more-factors"><i class="fa fa-check"></i><b>7.4.4</b> More Factors</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="auth.html"><a href="auth.html#auth-techniques"><i class="fa fa-check"></i><b>7.5</b> Auth Techniques</a><ul>
<li class="chapter" data-level="7.5.1" data-path="auth.html"><a href="auth.html#authorization-groups-roles-and-permissions"><i class="fa fa-check"></i><b>7.5.1</b> Authorization: Groups, Roles, and Permissions</a></li>
<li class="chapter" data-level="7.5.2" data-path="auth.html"><a href="auth.html#service-accounts"><i class="fa fa-check"></i><b>7.5.2</b> Service Accounts</a></li>
<li class="chapter" data-level="7.5.3" data-path="auth.html"><a href="auth.html#instance-permissions"><i class="fa fa-check"></i><b>7.5.3</b> Instance Permissions</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="auth.html"><a href="auth.html#auth-technologies"><i class="fa fa-check"></i><b>7.6</b> Auth Technologies</a><ul>
<li class="chapter" data-level="7.6.1" data-path="auth.html"><a href="auth.html#username-password"><i class="fa fa-check"></i><b>7.6.1</b> Username + Password</a></li>
<li class="chapter" data-level="7.6.2" data-path="auth.html"><a href="auth.html#pam"><i class="fa fa-check"></i><b>7.6.2</b> PAM</a></li>
<li class="chapter" data-level="7.6.3" data-path="auth.html"><a href="auth.html#ldapad"><i class="fa fa-check"></i><b>7.6.3</b> LDAP/AD</a></li>
<li class="chapter" data-level="7.6.4" data-path="auth.html"><a href="auth.html#kerberos-tickets"><i class="fa fa-check"></i><b>7.6.4</b> Kerberos Tickets</a></li>
<li class="chapter" data-level="7.6.5" data-path="auth.html"><a href="auth.html#saml"><i class="fa fa-check"></i><b>7.6.5</b> SAML</a></li>
<li class="chapter" data-level="7.6.6" data-path="auth.html"><a href="auth.html#oidcoauth2.0"><i class="fa fa-check"></i><b>7.6.6</b> OIDC/OAuth2.0</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html"><i class="fa fa-check"></i><b>8</b> Choosing and Using A Data Architecture</a><ul>
<li class="chapter" data-level="8.1" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html#options-for-data-storage"><i class="fa fa-check"></i><b>8.1</b> Options for Data Storage</a></li>
<li class="chapter" data-level="8.2" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html#how-to-pick"><i class="fa fa-check"></i><b>8.2</b> How to pick</a></li>
<li class="chapter" data-level="8.3" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html#working-with-file-systems"><i class="fa fa-check"></i><b>8.3</b> Working with File Systems</a></li>
<li class="chapter" data-level="8.4" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html#database"><i class="fa fa-check"></i><b>8.4</b> Working with Databases</a><ul>
<li class="chapter" data-level="8.4.1" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html#security"><i class="fa fa-check"></i><b>8.4.1</b> Security</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="choosing-and-using-a-data-architecture.html"><a href="choosing-and-using-a-data-architecture.html#exercises-4"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="environments-and-reproducibility.html"><a href="environments-and-reproducibility.html"><i class="fa fa-check"></i><b>9</b> Environments and Reproducibility</a></li>
<li class="chapter" data-level="10" data-path="it-and-data-science-workflows.html"><a href="it-and-data-science-workflows.html"><i class="fa fa-check"></i><b>10</b> IT and Data Science Workflows</a><ul>
<li class="chapter" data-level="10.1" data-path="it-and-data-science-workflows.html"><a href="it-and-data-science-workflows.html#devtestprod"><i class="fa fa-check"></i><b>10.1</b> Dev/Test/Prod</a></li>
<li class="chapter" data-level="10.2" data-path="it-and-data-science-workflows.html"><a href="it-and-data-science-workflows.html#cattle-not-pets"><i class="fa fa-check"></i><b>10.2</b> Cattle, Not Pets</a></li>
<li class="chapter" data-level="10.3" data-path="it-and-data-science-workflows.html"><a href="it-and-data-science-workflows.html#how-does-stuff-actually-get-deployed"><i class="fa fa-check"></i><b>10.3</b> How Does Stuff Actually Get Deployed</a></li>
<li class="chapter" data-level="10.4" data-path="it-and-data-science-workflows.html"><a href="it-and-data-science-workflows.html#exercises-5"><i class="fa fa-check"></i><b>10.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="scaling.html"><a href="scaling.html"><i class="fa fa-check"></i><b>11</b> Scaling</a><ul>
<li class="chapter" data-level="11.1" data-path="scaling.html"><a href="scaling.html#types-of-scaling"><i class="fa fa-check"></i><b>11.1</b> Types of Scaling</a></li>
<li class="chapter" data-level="11.2" data-path="scaling.html"><a href="scaling.html#load-balancing-configurations"><i class="fa fa-check"></i><b>11.2</b> Load-Balancing configurations</a></li>
<li class="chapter" data-level="11.3" data-path="scaling.html"><a href="scaling.html#adding-servers-in-real-time"><i class="fa fa-check"></i><b>11.3</b> Adding servers in real time</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="docker.html"><a href="docker.html"><i class="fa fa-check"></i><b>12</b> Docker</a><ul>
<li class="chapter" data-level="12.1" data-path="docker.html"><a href="docker.html#container-orchestration"><i class="fa fa-check"></i><b>12.1</b> Container Orchestration</a></li>
<li class="chapter" data-level="12.2" data-path="docker.html"><a href="docker.html#exercises-6"><i class="fa fa-check"></i><b>12.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="offline.html"><a href="offline.html"><i class="fa fa-check"></i><b>13</b> Offline</a></li>
<li class="chapter" data-level="14" data-path="things-to-add-additional-topics.html"><a href="things-to-add-additional-topics.html"><i class="fa fa-check"></i><b>14</b> Things To Add (Additional Topics)</a></li>
<li class="chapter" data-level="15" data-path="determining-what-you-need.html"><a href="determining-what-you-need.html"><i class="fa fa-check"></i><b>15</b> Determining What You Need</a></li>
<li class="chapter" data-level="16" data-path="getting-started-with-terminal.html"><a href="getting-started-with-terminal.html"><i class="fa fa-check"></i><b>16</b> Getting Started with Terminal</a></li>
<li class="chapter" data-level="17" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html"><i class="fa fa-check"></i><b>17</b> Useful Shell Commands</a><ul>
<li class="chapter" data-level="17.1" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html#miscellaneous-symbols"><i class="fa fa-check"></i><b>17.1</b> Miscellaneous Symbols</a></li>
<li class="chapter" data-level="17.2" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html#moving-yourself-and-your-files"><i class="fa fa-check"></i><b>17.2</b> Moving yourself and your files</a></li>
<li class="chapter" data-level="17.3" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html#checking-out-files"><i class="fa fa-check"></i><b>17.3</b> Checking out Files</a></li>
<li class="chapter" data-level="17.4" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html#checking-out-server-activity"><i class="fa fa-check"></i><b>17.4</b> Checking out Server Activity</a></li>
<li class="chapter" data-level="17.5" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html#checking-out-networking"><i class="fa fa-check"></i><b>17.5</b> Checking out Networking</a></li>
<li class="chapter" data-level="17.6" data-path="useful-shell-commands.html"><a href="useful-shell-commands.html#user-management"><i class="fa fa-check"></i><b>17.6</b> User Management</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="more-to-say.html"><a href="more-to-say.html"><i class="fa fa-check"></i><b>A</b> More to Say</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DevOps for Data Science (working title)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="auth" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> Authentication – Making Login Possible</h1>
<div id="your-everyday-experience-of-auth-and-how-it-differs-from-enterprise" class="section level2">
<h2><span class="header-section-number">7.1</span> Your Everyday Experience of Auth and How it Differs from Enterprise</h2>
<ul>
<li><p>You do auth all the time</p></li>
<li><p>Private auth – login to your bank with a unique username and pw</p></li>
<li><p>MFA (2FA) – get a text message or use an authenticator token</p>
<ul>
<li>Or yubikey, etc</li>
</ul></li>
<li><p>Public auth – you might login to spotify using your facebook,
apple, or google credentials</p>
<ul>
<li>Spotify is a Service Provider and the other side an Identity
Provider</li>
</ul></li>
</ul>
</div>
<div id="what-is-authentication" class="section level2">
<h2><span class="header-section-number">7.2</span> What is Authentication?</h2>
<ol style="list-style-type: decimal">
<li>Check who you are - Authentication</li>
<li>Check whether you should have access - Authorization</li>
</ol>
<p>User goes to login:</p>
<ol style="list-style-type: decimal">
<li>Make the user provide creds (username/password)</li>
<li>System checks credentials against store</li>
<li>(For SSO) Check if user is allowed to access resource</li>
<li>Send back <em>something</em></li>
<li>User is authorized</li>
</ol>
</div>
<div id="experiences-of-different-auth-systems" class="section level2">
<h2><span class="header-section-number">7.3</span> Experiences of Different Auth Systems</h2>
<ul>
<li><p>For users</p>
<ul>
<li>Do I have to authenticate to do X?</li>
<li>Where do I authenticate?</li>
<li>With which credentials?</li>
</ul></li>
<li><p>For Admins</p>
<ul>
<li><p>Am I transmitting user details, or just an authentication
token/ticket?</p>
<ul>
<li>Security</li>
</ul></li>
<li><p>Can I easily manage access centrally?</p></li>
<li><p>Can I keep credential stores centralized?</p></li>
<li><p>How are users created (provisioned) and deprovisioned</p></li>
<li><p>Do we have to maintain our own auth server?</p></li>
</ul></li>
</ul>
<p>Differences between auth types 1) How is the communication done?
Transmit text vs token (type/encryption) 2) When is the identity
checked? Once, every time 3) When is authorization checked? 4) How
encrypted are things?</p>
<p>What does SSO mean? * Most commonly used to mean login once and then
authentication happens automatically for duration of session *
Sometimes just used to mean that people use the same username and
password across different systems</p>
</div>
<div id="types-of-credentials" class="section level2">
<h2><span class="header-section-number">7.4</span> Types of Credentials</h2>
<div id="usernames-and-passwords" class="section level3">
<h3><span class="header-section-number">7.4.1</span> Usernames and Passwords</h3>
</div>
<div id="keys" class="section level3">
<h3><span class="header-section-number">7.4.2</span> Keys</h3>
</div>
<div id="tokens" class="section level3">
<h3><span class="header-section-number">7.4.3</span> Tokens</h3>
</div>
<div id="more-factors" class="section level3">
<h3><span class="header-section-number">7.4.4</span> More Factors</h3>
</div>
</div>
<div id="auth-techniques" class="section level2">
<h2><span class="header-section-number">7.5</span> Auth Techniques</h2>
<p>There are two main cont</p>
<ul>
<li>How to manage large groups of users with different permissions</li>
</ul>
<div id="authorization-groups-roles-and-permissions" class="section level3">
<h3><span class="header-section-number">7.5.1</span> Authorization: Groups, Roles, and Permissions</h3>
<ul>
<li>Groups: sets of users (e.g. <code>data-science</code>)</li>
<li>Roles: Role a user should have in the system (e.g. <code>admin</code>)</li>
<li>Permissions: things someone can do – can be granted on the basis of
membership in a group, role grants, or other attributes</li>
<li>Groups and roles are maintained in the central user store</li>
</ul>
</div>
<div id="service-accounts" class="section level3">
<h3><span class="header-section-number">7.5.2</span> Service Accounts</h3>
<ul>
<li><p>Often used in contexts where a service is accessing something on
behalf of itself</p>
<ul>
<li>e.g. an app accessing a database on behalf of any user who can
access the app</li>
</ul></li>
</ul>
</div>
<div id="instance-permissions" class="section level3">
<h3><span class="header-section-number">7.5.3</span> Instance Permissions</h3>
<ul>
<li>Often done inside private networks – instead of providing auth on a
per-user/session basis, just allow an entire server access to
another</li>
<li>e.g. any connection to the database by server A is allowed</li>
</ul>
</div>
</div>
<div id="auth-technologies" class="section level2">
<h2><span class="header-section-number">7.6</span> Auth Technologies</h2>
<div id="username-password" class="section level3">
<h3><span class="header-section-number">7.6.1</span> Username + Password</h3>
<p>Many pieces of software come with integrated authentication. When you
use those system, the product stores encrypted username and password
pairs in a database.</p>
<p>These setups are often really easy from an admin perspective – you just
set up individual users on the server. However, the flip side is that
users have one more username and password to remember, which is annoying
for them. Moreover, if you have more than a few users, or the system is
one of more than a few, it’s hard to manage users on a lot of different
systems. It can be a real pain to create accounts on a ton of different
systems when a new person joins the organization, or to remove their
permissions one-by-one when they leave.</p>
<p>For this reason, most IT/Admin organizations strongly prefer using some
sort of centralized identity store.</p>
</div>
<div id="pam" class="section level3">
<h3><span class="header-section-number">7.6.2</span> PAM</h3>
</div>
<div id="ldapad" class="section level3">
<h3><span class="header-section-number">7.6.3</span> LDAP/AD</h3>
<p>Lightweight Directory Access Protocol (LDAP) is a relatively old, open,
protocol used for maintaining a set of entities and their attributes. To
be precise, LDAP is actually a protocol for maintaining and accessing
entities and their attributes in a tree. It happens that this is a
really good structure for maintaining permissions and roles of users at
an organization, and it’s the main thing LDAP is used for.</p>
<p>Active Directory (AD) is Microsoft’s implementation of LDAP, and is
by-far the most common LDAP “flavor” out there. AD so thoroughly owns
the LDAP enterprise market, that LDAP is often referred to as LDAP/AD.
There are other implementations you may run across, the most common
being OpenLDAP.</p>
<aside>
<p>Azure, Microsoft’s cloud provider, offers an authentication service
called <em>Azure Active Directory (AAD)</em>. Confusingly, AAD is usually used
in combination with SAML, not LDAP.</p>
</aside>
<p>It’s worth distinguishing the use of LDAP as an identity store from its
use as an authentication technology. As a tree-based database, LDAP is
uniquely well-suited to storing the identities, and other attributes of
people at the organization. However, as discussed below, using LDAP to
authenticate into actual services has security and convenience
drawbacks, and many organizations consider it outdated and insecure.</p>
<p>A lot of organizations are moving away from LDAP for authentication in
favor of token-based technologies like SAML or OAuth, but many are
keeping LDAP as their identity “source of truth” that is referenced by
the SAML or OAuth Identity Provider.</p>
<p>LDAP has three main disadvantages relative to other technologies. First,
LDAP requires that your credentials (username and password, usually)
actually be provided to the service you’re trying to use. This is
fundamentally insecure relative to a system where your credentials are
provided only to the identity provider, and the service just gets a
token verifying who you are. In token-based systems, adding additional
requirements like MFA or biometrics are easy, as they’re simply added at
the IdP layer. In contrast, doing those things in LDAP would require the
service to implement them, which usually is not the case, so you’re
usually limited to username and password.</p>
<p>The second disadvantage of LDAP is that it does not allow for central
administration of permissions. LDAP directly records only objects and
their attributes. Say, for example, you want only users of a particular
group to have access to a certain resource. In LDAP, you would have to
specify <em>in that resource</em> that it should only allow in users of that
group. This is in contrast to SAML/OAuth, where the authorization is
centrally managed.</p>
<p>Lastly, LDAP authentication is based on each service authenticating.
Once you authenticate, the service might give you a cookie so that your
login persists, but there is no general-purpose token that will allow
you to login to multiple services.</p>
<div id="how-ldap-works" class="section level4">
<h4><span class="header-section-number">7.6.3.1</span> How LDAP Works</h4>
<p>While the technical downsides of LDAP are real, the tradeoff is that the
technical operations of LDAP are pretty straightforward. In short, you
try to login to a service, the service collects your username and
password, sends it off to the LDAP server, and checks that your username
and password are valid.</p>
<p><img src="images/206-auth/ldap-diagram.jpeg" width="564" /></p>
<p>Note that LDAP is purely for authentication. When you’re using LDAP,
authorization has to be handled separately, which is one of the
disadvantages.</p>
</div>
<div id="deeper-than-you-need-on-ldap" class="section level4">
<h4><span class="header-section-number">7.6.3.2</span> Deeper Than You Need on LDAP</h4>
<p>LDAP is a tree-based entity and value store. This means that LDAP stores
things and their attributes, which include a name and one or more
values. For example, my entry in a corporate LDAP directory might look
like this:</p>
<pre><code>cn: Alex Gold
mail: alex.gold@example.com
mail: alex.gold@example.org
department: solutions
mobile: 555-555-5555
objectClass = Person</code></pre>
<p>Most of these attributes should be pretty straightforward. <code>cn</code> is short
for common name, and is part of the way you look up an entity in LDAP
(more on that below). Each entity in LDAP must have an <code>objectClass</code>,
which determines the type of entity it is. In this case, I am a <code>Person</code>
, as opposed to a device, domain, organizationalRole, or room – all of
which are standard <code>objectClass</code>es.</p>
<p>Let’s say that your corporate LDAP looks like the tree below:</p>
<p><img src="images/206-auth/ldap-tree.jpeg" width="503" /></p>
<p>#TODO: make solutions an OU in final</p>
<p>The most common way to look up LDAP entities is with their
<em>distinguished name (DN)</em>, which is the path of names from the point
you’re starting all the way back to the root of the tree. In the tree
above, my DN would be <code>cn=alex,ou=solutions,dc=example,dc=com</code>.</p>
<p>Note that you read the DN from right to left to work your way down the
tree. Aside from <code>cn</code> for common name, other common fields include <code>ou</code>
for organizational unit, and <code>dc</code> for domain component.</p>
</div>
<div id="trying-out-ldap" class="section level4">
<h4><span class="header-section-number">7.6.3.3</span> Trying out LDAP</h4>
<p>Now that we understand in theory how LDAP works, let’s try out an actual
example.</p>
<p>To start, let’s stand up LDAP in a docker container:</p>
<p>#TODO: update ldif</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="auth.html#cb12-1"></a><span class="ex">docker</span> network create ldap-net</span>
<span id="cb12-2"><a href="auth.html#cb12-2"></a><span class="ex">docker</span> run -p 6389:389 \</span>
<span id="cb12-3"><a href="auth.html#cb12-3"></a>  --name ldap-service \</span>
<span id="cb12-4"><a href="auth.html#cb12-4"></a>  --network ldap-net \</span>
<span id="cb12-5"><a href="auth.html#cb12-5"></a>  --detach alexkgold/auth</span></code></pre></div>
<p><code>ldapsearch</code> is a utility that lets us run queries against the LDAP
tree. Let’s try it out against the LDAP container we just stood up.</p>
<p>Let’s say I want to return everything in the subtree under
<code>example.org</code>. In that case, I would run
<code>ldapsearch -b dc=example,dc=org</code>, where <code>b</code> indicates my search base,
which is a <code>dn</code>. But in order to make this actually work, we’ll need to
include a few more arguments, including</p>
<ul>
<li><p>the host where the LDAP server is, indicated by <code>-H</code></p></li>
<li><p>the bind DN we’ll be using, flagged with <code>-D</code></p></li>
<li><p>the bind password we’ll be using, indicated by <code>-w</code></p></li>
</ul>
<p>Since we’re testing, we’re also going to provide the flag <code>-x</code> to use
whatever certificate is present on the server. Putting it altogether,
along with the commands to reach the docker container, let’s try:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="auth.html#cb13-1"></a><span class="ex">ldapsearch</span> -x -H ldap://localhost:6389 -b dc=example,dc=org -D <span class="st">&quot;cn=admin,dc=example,dc=org&quot;</span> -w admin</span>
<span id="cb13-2"><a href="auth.html#cb13-2"></a></span>
<span id="cb13-3"><a href="auth.html#cb13-3"></a><span class="co"># extended LDIF</span></span>
<span id="cb13-4"><a href="auth.html#cb13-4"></a><span class="co">#</span></span>
<span id="cb13-5"><a href="auth.html#cb13-5"></a><span class="co"># LDAPv3</span></span>
<span id="cb13-6"><a href="auth.html#cb13-6"></a><span class="co"># base &lt;dc=example,dc=org&gt; with scope subtree</span></span>
<span id="cb13-7"><a href="auth.html#cb13-7"></a><span class="co"># filter: (objectclass=*)</span></span>
<span id="cb13-8"><a href="auth.html#cb13-8"></a><span class="co"># requesting: ALL</span></span>
<span id="cb13-9"><a href="auth.html#cb13-9"></a><span class="co">#</span></span>
<span id="cb13-10"><a href="auth.html#cb13-10"></a></span>
<span id="cb13-11"><a href="auth.html#cb13-11"></a><span class="co"># example.org</span></span>
<span id="cb13-12"><a href="auth.html#cb13-12"></a><span class="ex">dn</span>: dc=example,dc=org</span>
<span id="cb13-13"><a href="auth.html#cb13-13"></a><span class="ex">objectClass</span>: top</span>
<span id="cb13-14"><a href="auth.html#cb13-14"></a><span class="ex">objectClass</span>: dcObject</span>
<span id="cb13-15"><a href="auth.html#cb13-15"></a><span class="ex">objectClass</span>: organization</span>
<span id="cb13-16"><a href="auth.html#cb13-16"></a><span class="ex">o</span>: Example Inc.</span>
<span id="cb13-17"><a href="auth.html#cb13-17"></a><span class="ex">dc</span>: example</span>
<span id="cb13-18"><a href="auth.html#cb13-18"></a></span>
<span id="cb13-19"><a href="auth.html#cb13-19"></a><span class="co"># admin, example.org</span></span>
<span id="cb13-20"><a href="auth.html#cb13-20"></a><span class="ex">dn</span>: cn=admin,dc=example,dc=org</span>
<span id="cb13-21"><a href="auth.html#cb13-21"></a><span class="ex">objectClass</span>: simpleSecurityObject</span>
<span id="cb13-22"><a href="auth.html#cb13-22"></a><span class="ex">objectClass</span>: organizationalRole</span>
<span id="cb13-23"><a href="auth.html#cb13-23"></a><span class="ex">cn</span>: admin</span>
<span id="cb13-24"><a href="auth.html#cb13-24"></a><span class="ex">description</span>: LDAP administrator</span>
<span id="cb13-25"><a href="auth.html#cb13-25"></a><span class="ex">userPassword</span>:: e1NTSEF9d3IyVFp6SlAyKy9xT2RsQ0owTDYzR0RzNFo0NUFrQ00=</span>
<span id="cb13-26"><a href="auth.html#cb13-26"></a></span>
<span id="cb13-27"><a href="auth.html#cb13-27"></a><span class="co"># search result</span></span>
<span id="cb13-28"><a href="auth.html#cb13-28"></a><span class="ex">search</span>: 2</span>
<span id="cb13-29"><a href="auth.html#cb13-29"></a><span class="ex">result</span>: 0 Success</span>
<span id="cb13-30"><a href="auth.html#cb13-30"></a></span>
<span id="cb13-31"><a href="auth.html#cb13-31"></a><span class="co"># numResponses: 3</span></span>
<span id="cb13-32"><a href="auth.html#cb13-32"></a><span class="co"># numEntries: 2</span></span></code></pre></div>
<p>You should be able to read what got returned pretty seamlessly. One
thing to notice is that the user password is returned, so it can be
compared to a password provided. It is encrypted, so it doesn’t appear
in plain text.</p>
<p>Note that <code>ldap</code> is a protocol – so it takes the place of the <code>http</code>
you’re used to in normal web operations. Like there’s <code>https</code>, there is
also a protocol called <code>LDAPS</code>, which is <code>ldap</code> + <code>tls</code> for the same
reason you’ve got <code>https</code>. LDAP is (almost) always running in the same
private network as the service, so many organizations don’t require
using LDAPS, but others do require it.</p>
<p>Running the ldapadmin</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="auth.html#cb14-1"></a><span class="ex">docker</span> run -p 6443:443 \</span>
<span id="cb14-2"><a href="auth.html#cb14-2"></a>        --name ldap-admin \</span>
<span id="cb14-3"><a href="auth.html#cb14-3"></a>        --env PHPLDAPADMIN_LDAP_HOSTS=ldap-service \</span>
<span id="cb14-4"><a href="auth.html#cb14-4"></a>        --network ldap-net \</span>
<span id="cb14-5"><a href="auth.html#cb14-5"></a>        --detach osixia/phpldapadmin</span></code></pre></div>
<p>dn for admin <code>cn=admin,dc=example,dc=org</code> pw: <code>admin</code></p>
<p><a href="https://localhost:6443" class="uri">https://localhost:6443</a></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="auth.html#cb15-1"></a><span class="co"># Replace with valid license</span></span>
<span id="cb15-2"><a href="auth.html#cb15-2"></a><span class="bu">export</span> <span class="va">RSC_LICENSE=</span>XXXX-XXXX-XXXX-XXXX-XXXX-XXXX-XXXX</span>
<span id="cb15-3"><a href="auth.html#cb15-3"></a></span>
<span id="cb15-4"><a href="auth.html#cb15-4"></a><span class="co"># Run without persistent data and using default configuration</span></span>
<span id="cb15-5"><a href="auth.html#cb15-5"></a><span class="ex">docker</span> run -it --privileged \</span>
<span id="cb15-6"><a href="auth.html#cb15-6"></a>    --name rsc \</span>
<span id="cb15-7"><a href="auth.html#cb15-7"></a>    --volume <span class="va">$PWD</span>/rstudio-connect.gcfg:/etc/rstudio-connect/rstudio-connect.gcfg \</span>
<span id="cb15-8"><a href="auth.html#cb15-8"></a>    -p 3939:3939 \</span>
<span id="cb15-9"><a href="auth.html#cb15-9"></a>    -e RSC_LICENSE=<span class="va">$RSC_LICENSE</span> \</span>
<span id="cb15-10"><a href="auth.html#cb15-10"></a>    --network ldap-net \</span>
<span id="cb15-11"><a href="auth.html#cb15-11"></a>    rstudio/rstudio-connect:latest</span></code></pre></div>
</div>
<div id="single-vs-double-bind" class="section level4">
<h4><span class="header-section-number">7.6.3.4</span> Single vs Double Bind</h4>
<p>There are two different ways to establish a connection between your
server and the LDAP server. The first method is called <em>Single Bind</em>. In
a single bind authentication, the user credentials are used <strong>both</strong> to
authenticate to the LDAP server, and to query the server.</p>
<p>In a <em>Double Bind</em> configuration, there is a separate administrative
service account, used to authenticate to the LDAP server. Once
authentication is complete, then the user is queried in the system.</p>
<p>Single bind configurations are often more limited than double bind ones.
For example, in most cases you’ll only be able to see the single user as
well as the groups they’re a part of. This can limit application
functionality in some cases. On the other hand, there need be no master
key maintained on your server, and some admins may prefer it for
security reasons.</p>
<p>We can see this really concretely. In the example above, you used a
double bind by supplying admin credentials to LDAP. Let’s say instead,
you just provide a single user’s credentials. In that case, I don’t get
anything back if I just do a general search.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="auth.html#cb16-1"></a><span class="ex">ldapsearch</span> -x -H ldap://localhost:6389 -b dc=example,dc=org -D <span class="st">&quot;cn=joe,dc=engineering,dc=example,dc=org&quot;</span> -w joe                                       </span>
<span id="cb16-2"><a href="auth.html#cb16-2"></a><span class="co"># extended LDIF</span></span>
<span id="cb16-3"><a href="auth.html#cb16-3"></a><span class="co">#</span></span>
<span id="cb16-4"><a href="auth.html#cb16-4"></a><span class="co"># LDAPv3</span></span>
<span id="cb16-5"><a href="auth.html#cb16-5"></a><span class="co"># base &lt;dc=example,dc=org&gt; with scope subtree</span></span>
<span id="cb16-6"><a href="auth.html#cb16-6"></a><span class="co"># filter: (objectclass=*)</span></span>
<span id="cb16-7"><a href="auth.html#cb16-7"></a><span class="co"># requesting: ALL</span></span>
<span id="cb16-8"><a href="auth.html#cb16-8"></a><span class="co">#</span></span>
<span id="cb16-9"><a href="auth.html#cb16-9"></a></span>
<span id="cb16-10"><a href="auth.html#cb16-10"></a><span class="co"># search result</span></span>
<span id="cb16-11"><a href="auth.html#cb16-11"></a><span class="ex">search</span>: 2</span>
<span id="cb16-12"><a href="auth.html#cb16-12"></a><span class="ex">result</span>: 32 No such object</span>
<span id="cb16-13"><a href="auth.html#cb16-13"></a></span>
<span id="cb16-14"><a href="auth.html#cb16-14"></a><span class="co"># numResponses: 1</span></span></code></pre></div>
<p>But just searching for information about Joe does return his own
information.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="auth.html#cb17-1"></a><span class="ex">ldapsearch</span> -x -H ldap://localhost:6389 -b cn=joe,dc=engineering,dc=example,dc=org -D <span class="st">&quot;cn=joe,dc=engineering,dc=example,dc=org&quot;</span> -w joe                    32 ✘</span>
<span id="cb17-2"><a href="auth.html#cb17-2"></a><span class="co"># extended LDIF</span></span>
<span id="cb17-3"><a href="auth.html#cb17-3"></a><span class="co">#</span></span>
<span id="cb17-4"><a href="auth.html#cb17-4"></a><span class="co"># LDAPv3</span></span>
<span id="cb17-5"><a href="auth.html#cb17-5"></a><span class="co"># base &lt;cn=joe,dc=engineering,dc=example,dc=org&gt; with scope subtree</span></span>
<span id="cb17-6"><a href="auth.html#cb17-6"></a><span class="co"># filter: (objectclass=*)</span></span>
<span id="cb17-7"><a href="auth.html#cb17-7"></a><span class="co"># requesting: ALL</span></span>
<span id="cb17-8"><a href="auth.html#cb17-8"></a><span class="co">#</span></span>
<span id="cb17-9"><a href="auth.html#cb17-9"></a></span>
<span id="cb17-10"><a href="auth.html#cb17-10"></a><span class="co"># joe, engineering.example.org</span></span>
<span id="cb17-11"><a href="auth.html#cb17-11"></a><span class="ex">dn</span>: cn=joe,dc=engineering,dc=example,dc=org</span>
<span id="cb17-12"><a href="auth.html#cb17-12"></a><span class="ex">cn</span>: joe</span>
<span id="cb17-13"><a href="auth.html#cb17-13"></a><span class="ex">gidNumber</span>: 500</span>
<span id="cb17-14"><a href="auth.html#cb17-14"></a><span class="ex">givenName</span>: Joe</span>
<span id="cb17-15"><a href="auth.html#cb17-15"></a><span class="ex">homeDirectory</span>: /home/joe</span>
<span id="cb17-16"><a href="auth.html#cb17-16"></a><span class="ex">loginShell</span>: /bin/sh</span>
<span id="cb17-17"><a href="auth.html#cb17-17"></a><span class="ex">mail</span>: joe@example.org</span>
<span id="cb17-18"><a href="auth.html#cb17-18"></a><span class="ex">objectClass</span>: inetOrgPerson</span>
<span id="cb17-19"><a href="auth.html#cb17-19"></a><span class="ex">objectClass</span>: posixAccount</span>
<span id="cb17-20"><a href="auth.html#cb17-20"></a><span class="ex">objectClass</span>: top</span>
<span id="cb17-21"><a href="auth.html#cb17-21"></a><span class="ex">sn</span>: Golly</span>
<span id="cb17-22"><a href="auth.html#cb17-22"></a><span class="ex">uid</span>: test\joe</span>
<span id="cb17-23"><a href="auth.html#cb17-23"></a><span class="ex">uidNumber</span>: 1000</span>
<span id="cb17-24"><a href="auth.html#cb17-24"></a><span class="ex">userPassword</span>:: e01ENX1qL01raWZrdk0wRm1sTDZQM0MxTUlnPT0=</span>
<span id="cb17-25"><a href="auth.html#cb17-25"></a></span>
<span id="cb17-26"><a href="auth.html#cb17-26"></a><span class="co"># search result</span></span>
<span id="cb17-27"><a href="auth.html#cb17-27"></a><span class="ex">search</span>: 2</span>
<span id="cb17-28"><a href="auth.html#cb17-28"></a><span class="ex">result</span>: 0 Success</span>
<span id="cb17-29"><a href="auth.html#cb17-29"></a></span>
<span id="cb17-30"><a href="auth.html#cb17-30"></a><span class="co"># numResponses: 2</span></span>
<span id="cb17-31"><a href="auth.html#cb17-31"></a><span class="co"># numEntries: 1</span></span></code></pre></div>
</div>
</div>
<div id="kerberos-tickets" class="section level3">
<h3><span class="header-section-number">7.6.4</span> Kerberos Tickets</h3>
<ul>
<li>An old technology, but still considered very secure - server to
server transit of token</li>
<li>Microsoft-based and integrates tightly with AD</li>
<li>Used frequently to make connections to databases</li>
<li>Can also be used to establish an SSO experience</li>
</ul>
</div>
<div id="saml" class="section level3">
<h3><span class="header-section-number">7.6.5</span> SAML</h3>
<ul>
<li>The most common type of true SSO for enterprises</li>
<li>Login once to a central IdP and an identity token gets stored in web
browser</li>
<li>Go to a new service, and the identity token requests a service token
to use the service</li>
<li>XML-based</li>
<li>Relatively new – many enterprises switching to this from LDAP/AD
(Azure AD)</li>
</ul>
</div>
<div id="oidcoauth2.0" class="section level3">
<h3><span class="header-section-number">7.6.6</span> OIDC/OAuth2.0</h3>
<ul>
<li>Based on JSON Web Tokens (JWT, often pronounced “Jot” b/c
reasons…)</li>
<li>Technically OIDC is an authentication standard and OAuth an
authorization</li>
<li>You’ll sometimes see e.g. SAML auth + OAuth being used for db access</li>
<li>Very similar to SAML from the user perspective</li>
<li>More common in external services, SAML often preferred inside
enterprises</li>
</ul>
<p>Resources: <a href="https://www.okta.com/identity-101/saml-vs-oauth/" class="uri">https://www.okta.com/identity-101/saml-vs-oauth/</a>
<a href="https://www.okta.com/identity-101/whats-the-difference-between-oauth-openid-connect-and-saml/" class="uri">https://www.okta.com/identity-101/whats-the-difference-between-oauth-openid-connect-and-saml/</a>
<a href="https://phoenixnap.com/blog/kerberos-authentication" class="uri">https://phoenixnap.com/blog/kerberos-authentication</a>
<a href="https://www.dnsstuff.com/rbac-vs-abac-access-control" class="uri">https://www.dnsstuff.com/rbac-vs-abac-access-control</a></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ssh.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="choosing-and-using-a-data-architecture.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/akgold/do4ds/edit/main/206-browser_auth.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
