<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 11 Computer Networks and the Internet | DevOps for Data Science (working title)</title>
<meta name="author" content="Alex Gold">
<meta name="description" content="In chapter 1, we got into how the computer on your desk, on your lap, or in your hand works. These days, many or even most of the things we want to do involve sending data across computer...">
<meta name="generator" content="bookdown 0.24.4 with bs4_book()">
<meta property="og:title" content="Chapter 11 Computer Networks and the Internet | DevOps for Data Science (working title)">
<meta property="og:type" content="book">
<meta property="og:description" content="In chapter 1, we got into how the computer on your desk, on your lap, or in your hand works. These days, many or even most of the things we want to do involve sending data across computer...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 11 Computer Networks and the Internet | DevOps for Data Science (working title)">
<meta name="twitter:description" content="In chapter 1, we got into how the computer on your desk, on your lap, or in your hand works. These days, many or even most of the things we want to do involve sending data across computer...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap/bootstrap.bundle.min.js"></script><script src="libs/bs3compat/transition.js"></script><script src="libs/bs3compat/tabs.js"></script><script src="libs/bs3compat/bs3compat.js"></script><link href="libs/bs4_book/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book/bs4_book.js"></script><script src="libs/accessible-code-block/empty-anchor.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="css/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">DevOps for Data Science (working title)</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="about-the-author.html">About the Author</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="command-line.html"><span class="header-section-number">2</span> The Command Line + SSH</a></li>
<li><a class="" href="ssh.html"><span class="header-section-number">3</span> Accessing Servers via SSH</a></li>
<li><a class="" href="code-promotion-workflows.html"><span class="header-section-number">4</span> Code Promotion Workflows</a></li>
<li><a class="" href="environments-and-reproducibility.html"><span class="header-section-number">5</span> Environments and Reproducibility</a></li>
<li><a class="" href="choosing-and-using-a-data-architecture.html"><span class="header-section-number">6</span> Choosing and Using A Data Architecture</a></li>
<li><a class="" href="containers-docker-and-orchestration-docker.html"><span class="header-section-number">7</span> Containers, Docker, and Orchestration {docker}</a></li>
<li><a class="" href="the-cloud-and-cloud-providers.html"><span class="header-section-number">8</span> The Cloud and Cloud Providers</a></li>
<li><a class="" href="computers-computing-and-servers.html"><span class="header-section-number">9</span> Computers, Computing, and Servers</a></li>
<li><a class="" href="lab-1-get-your-own-server.html"><span class="header-section-number">10</span> Lab 1: Get your own server</a></li>
<li><a class="active" href="url.html"><span class="header-section-number">11</span> Computer Networks and the Internet</a></li>
<li><a class="" href="getting-a-real-url.html"><span class="header-section-number">12</span> Getting a real URL</a></li>
<li><a class="" href="private-networking-configuration.html"><span class="header-section-number">13</span> Private Networking Configuration</a></li>
<li><a class="" href="auth.html"><span class="header-section-number">14</span> How login works</a></li>
<li><a class="" href="offline.html"><span class="header-section-number">15</span> Offline</a></li>
<li><a class="" href="scaling.html"><span class="header-section-number">16</span> Scaling</a></li>
<li><a class="" href="things-to-add-additional-topics.html"><span class="header-section-number">17</span> Things To Add (Additional Topics)</a></li>
<li><a class="" href="determining-what-you-need.html"><span class="header-section-number">18</span> Determining What You Need</a></li>
<li><a class="" href="getting-started-with-terminal.html"><span class="header-section-number">19</span> Getting Started with Terminal</a></li>
<li><a class="" href="useful-shell-commands.html"><span class="header-section-number">20</span> Useful Shell Commands</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="more-to-say.html"><span class="header-section-number">A</span> More to Say</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="url" class="section level1">
<h1>
<span class="header-section-number">11</span> Computer Networks and the Internet<a class="anchor" aria-label="anchor" href="#url"><i class="fas fa-link"></i></a>
</h1>
<p>In <a href="#servers">chapter 1</a>, we got into how the computer on your desk, on your lap, or in your hand works. These days, many or even most of the things we want to do involve sending data across computer networks. When you visit a website, wirelessly print a document, or login to your email, you are making use of a computer network.</p>
<p>The computer network we’re all most familiar with is the biggest of them all – The Internet. But there are myriad other networks, like the very small private network of the devices (phones, computers, TVs, etc) connected to your home wifi router, to the somewhat larger VPN (it stands for virtual private network, after all) you might connect to for school or work.</p>
<p>A computer network is a set of computers that can communicate with each other to send data in the form of network traffic back and forth to each other. These networks are basically self-similar – once you understand the wifi network in your house, you’ve also got a reasonably good understanding of how the entire internet works, which is great if you’re an author trying to explain how this all works.</p>
<p>In this chapter, you’ll learn the basics of how computer networks work. In particular, we’ll get into some of the layers of protocols that define how computers communicate with each other. This chapter is mostly going to be background for the next few chapters, where we’ll get into the nitty gritty of how to configure both the public and private elements of networking for your data science workshop.</p>
<div id="computer-communication-packets-traversing-networks" class="section level2">
<h2>
<span class="header-section-number">11.1</span> Computer communication = packets traversing networks<a class="anchor" aria-label="anchor" href="#computer-communication-packets-traversing-networks"><i class="fas fa-link"></i></a>
</h2>
<p>The virtual version of the processes that get your letter from your house to your penpal’s is called <em>packet switching</em>, and it’s really not a bad analogy. Like the physical mail, your computer dresses up a message with an address and some other details, sends it on its way, and waits for a response.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;One of the biggest ways the mail &lt;em&gt;is not&lt;/em&gt; like packet switching is that your message gets chopped up among lots of different packets, which are routed independently, and are reassembled when they get where they’re going. Works well for computers, not so well for real-world mail. It’s also pretty much an irrelevant detail, since this whole process works quite invisibly.&lt;/p&gt;"><sup>11</sup></a> The set of rules – called a <em>protocol</em> – that defines a valid address, envelope type, and more is called <em>TCP/IP</em>.</p>
<p>Underneath these protocols is a bunch of hardware, which we’re basically going to ignore.</p>
<p>Each computer network is governed by a router. For the purposes of your mental model, you can basically think of your router as doing two things – maintaining a table of the IP addresses it knows, and following this algorithm over and over again.</p>
<p>#TODO: Turn into visual tree – also visual of networks and sub-networks</p>
<ol style="list-style-type: decimal">
<li>
<p>Do I know where this address is?</p>
<ol style="list-style-type: decimal">
<li><p>Yes: Send the packet there.</p></li>
<li><p>No: Send the packet to the default address and cross fingers.</p></li>
</ol>
</li>
</ol>
<p>In general, routers only know about the IP addresses of sub-networks and devices, so if you’re printing something from your laptop to the computer in the next room, the packet just goes to your router and then straight to the printer.</p>
<blockquote>
<p>In your home’s local area network (LAN), your router does one additional thing – as devices like your phone, laptop, or printer attach to the network, it assigns them IP addresses based on the addresses available in a process called Dynamic Host Configuration Protocol (DHCP).</p>
</blockquote>
<p>On the other hand, if you’re sending something to a website or server that’s far away, your computer has no idea where that IP address is. Clever people have solved this problem by setting the default address in each router to be an “upstream” router that is a level more general.</p>
<p>So immediately upstream of your router is probably a router specific to your ISP for a relatively small geographic area. Upstream of that is probably a router for a broader geographic area. So your packet will get passed upstream to a sufficiently general network and then back downstream to the actual IP address you’re trying to reach.</p>
<p>#TODO: Image of computer network w/ upstream and downstream networks</p>
<p>When the packets are received and read – something happens. Maybe you get to watch your show on Netflix, or your document gets printed – or maybe you get an error message back. In any event, the return message will be transmitted exactly the same way as your initial message, though it might follow a different path.</p>
</div>
<div id="more-details-about-ip-addresses" class="section level2">
<h2>
<span class="header-section-number">11.2</span> More details about IP Addresses<a class="anchor" aria-label="anchor" href="#more-details-about-ip-addresses"><i class="fas fa-link"></i></a>
</h2>
<p>IP addresses are, indeed, addresses. They are how one computer or server finds another on a computer network, and they are unique within that network.</p>
<p>Most IP addresses you’ve probably seen before are IPv4 addresses. They’re four blocks of 8-bit fields, so they look something like 65.77.154.233, where each of the four numbers is something between 0 and 255.</p>
<p>Since these addresses are unique, each server and website on the internet needs a unique IP address. If you do the math, you’ll realize there are “only” about 4 billion of these. It turns out that’s not enough for the public internet and we’re running out.</p>
<p>In the last few years, adoption of the new standard, IPv6, has started. IPv6 addresses are eight blocks of hexadecimal (0-9 + a-f) digits separated by colons, with certain rules that allow them to be shortened, so 4b01:0db8:85a3:0000:0000:8a2e:0370:7334 or 3da4:66a::1 are both examples of valid IPv6 addresses.</p>
<p>IPv6 will coexist with IPv4 for a few decades, and we’ll eventually switch entirely to IPv6. There’s no worry about running out of IPv6 addresses any time soon, because the total number of IPv6 addresses is a number 39 digits long.</p>
<div id="special-ip-addresses" class="section level4">
<h4>
<span class="header-section-number">11.2.0.1</span> Special IP Addresses<a class="anchor" aria-label="anchor" href="#special-ip-addresses"><i class="fas fa-link"></i></a>
</h4>
<p>As you work more with IP addresses, there are a few you’ll see over and over. Here’s a quick cheatsheet:</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="21%">
<col width="78%">
</colgroup>
<thead><tr class="header">
<th>Code</th>
<th>Meaning</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>127.0.0.1</td>
<td>
<code>localhost</code> or loopback – the machine that originated the request</td>
</tr>
<tr class="even">
<td>
<p>192.168.x.x, 172.16.x.x.x,</p>
<p>10.x.x.x</p>
</td>
<td>Protected address blocks used for private IP addresses. More on public vs private addresses in chapter XX.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="application-layer-protocols-define-valid-messages" class="section level2">
<h2>
<span class="header-section-number">11.3</span> Application Layer Protocols define valid messages<a class="anchor" aria-label="anchor" href="#application-layer-protocols-define-valid-messages"><i class="fas fa-link"></i></a>
</h2>
<p>If we think of the TCP/IP protocol defining valid addresses, package sizes and shapes, and how the mail gets routed, then <em>application layer protocols</em> are one layer down – they define what are valid messages to put inside the envelope.</p>
<p>There are numerous application layer protocols. Some you will see in this book include <code>SSH</code> for direct server access, <code>(S)FTP</code> for file transfers, <code>SMTP</code> for email, <code>LDAP(S)</code> for authentication and authorization, and <code>websockets</code> for persistent bi-directional communication – used for interactive webapps created by the Shiny package in R and the Streamlit package in Python.</p>
<p>We’ll talk more about some of those other protocols later in the book. For now, let’s focus on the one you’ll spend most of your time thinking about – <code>http</code>.</p>
<div id="http-is-the-most-common-application-layer-protocol" class="section level3">
<h3>
<span class="header-section-number">11.3.1</span> <code>http</code> is the most common application layer protocol<a class="anchor" aria-label="anchor" href="#http-is-the-most-common-application-layer-protocol"><i class="fas fa-link"></i></a>
</h3>
<p>Hyptertext transfer protocol (<code>http</code>) is the protocol that underlies a huge fraction of internet traffic. <code>http</code> defines how a computer can initiate a session with a server, request the server do something, and receive a response.</p>
<p>So whenever you go to a website, <code>http</code> is the protocol that defines how the underlying interactions that happen as your computer requests the website and the server sends back the various assets that make up the web page, which might include the HTML skeleton for the site, the CSS styling, interactive javascript elements, and more.</p>
<blockquote>
<p>It’s worth noting that these days, virtually all <code>http</code> traffic over the internet is in the form of secured <code>https</code> traffic. We’ll get into what the <code>s</code> means and how it’s secured in the next chapter.</p>
</blockquote>
<p>There are a few important elements to <code>http</code> requests and responses:</p>
<ul>
<li><p>Request Method – getting deep into HTTP request methods is beyond the scope of this book, but there are a variety of different methods you might use to interact with things on the internet. The most common are <code>GET</code> to get a webpage, <code>POST</code> or <code>PUT</code> to change something, and <code>DELETE</code> to delete something.</p></li>
<li><p>Status Code - each HTTP response includes a status code indicating the response category. Some special codes you’ll quickly learn to recognize are below. The one you’ll (hopefully) see the most is 200, which is a successful response.</p></li>
<li><p>Response and Request Headers – headers are metadata included with the request and response. These include things like the type of the request, the type of machine you’re coming from, cookie-setting requests and more. In some cases, these headers include authentication credentials and tokens, and other things you might want to inspect.</p></li>
<li>
<p>Body - this is the content of the request or response.</p>
<ul>
<li>It’s worth noting that <code>GET</code> requests for fetching something generally don’t include a body. Instead, any specifics on what is to be fetched are specified through <em>query parameters</em>, the part of the URL that shows up after the <code>?</code>. They’re often something like, <code>?first_name=alex&amp;last_name=gold</code>
</li>
</ul>
</li>
</ul>
</div>
<div id="understand-http-traffic-by-inspecting-it" class="section level3">
<h3>
<span class="header-section-number">11.3.2</span> Understand <code>http</code> traffic by inspecting it<a class="anchor" aria-label="anchor" href="#understand-http-traffic-by-inspecting-it"><i class="fas fa-link"></i></a>
</h3>
<p>The best way to understand <code>http</code> traffic is to take a close look at some. Luckily, you’ve got an easy tool – your web browser!</p>
<p>Open a new tab in your browser and open your developer tools. How this works will depend on your browser. In Chrome, you’ll go to View &gt; Developer &gt; Developer Tools and then make sure the Network tab is open.</p>
<p>Now, navigate to a URL in your browser (say google.com).</p>
<p>As you do this, you’ll see the traffic pane fill up. These are the requests and responses going back and forth between your computer and the server.</p>
<p>If you click on any of them, there are a few useful things you can learn.</p>
<div class="inline-figure"><img src="images/paste-4EA67624.png" width="267"></div>
<p>At the top, you can see the timing. This can be helpful in debugging things that take a long time to load. Sometimes it’s helpful to see what stage in the process bogs down.</p>
<p>In the pane below, you can inspect the actual content that is going back and forth between your computer and the server you’re accessing including the request methods, status codes, headers, and bodies.</p>
<div id="special-http-codes" class="section level4">
<h4>
<span class="header-section-number">11.3.2.1</span> Special HTTP Codes<a class="anchor" aria-label="anchor" href="#special-http-codes"><i class="fas fa-link"></i></a>
</h4>
<p>As you work more with <code>http</code> traffic, you’ll learn some of the common codes. Here’s a cheatshet for some of the most frequent you’ll see.</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="9%">
<col width="90%">
</colgroup>
<thead><tr class="header">
<th>Code</th>
<th>Meaning</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>200</code></td>
<td>Everyone’s favorite, a successful response.</td>
</tr>
<tr class="even">
<td><code>3xx</code></td>
<td>Your query was redirected somewhere else, usually ok.</td>
</tr>
<tr class="odd">
<td>
<code>4xx</code> and <code>5xx</code>
</td>
<td>Errors with, respectively, the request itself and the server.</td>
</tr>
<tr class="even">
<td></td>
<td>Particular Error Codes</td>
</tr>
<tr class="odd">
<td><code>400</code></td>
<td>Bad request. This isn’t a request the server can understand.</td>
</tr>
<tr class="even">
<td>
<code>401</code> and <code>403</code>
</td>
<td>Unauthorized or forbidden. Often means required authentication hasn’t been provided.</td>
</tr>
<tr class="odd">
<td><code>404</code></td>
<td>Not found. There isn’t any content at the address you’re trying to access.</td>
</tr>
<tr class="even">
<td><code>504</code></td>
<td>gateway timeout. This means that a proxy or gateway between you and the server you’re trying to access timed out before it got a response from the server.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div id="exercises-7" class="section level2">
<h2>
<span class="header-section-number">11.4</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-7"><i class="fas fa-link"></i></a>
</h2>
<p>#TODO</p>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="lab-1-get-your-own-server.html"><span class="header-section-number">10</span> Lab 1: Get your own server</a></div>
<div class="next"><a href="getting-a-real-url.html"><span class="header-section-number">12</span> Getting a real URL</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#url"><span class="header-section-number">11</span> Computer Networks and the Internet</a></li>
<li><a class="nav-link" href="#computer-communication-packets-traversing-networks"><span class="header-section-number">11.1</span> Computer communication = packets traversing networks</a></li>
<li><a class="nav-link" href="#more-details-about-ip-addresses"><span class="header-section-number">11.2</span> More details about IP Addresses</a></li>
<li>
<a class="nav-link" href="#application-layer-protocols-define-valid-messages"><span class="header-section-number">11.3</span> Application Layer Protocols define valid messages</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#http-is-the-most-common-application-layer-protocol"><span class="header-section-number">11.3.1</span> http is the most common application layer protocol</a></li>
<li><a class="nav-link" href="#understand-http-traffic-by-inspecting-it"><span class="header-section-number">11.3.2</span> Understand http traffic by inspecting it</a></li>
</ul>
</li>
<li><a class="nav-link" href="#exercises-7"><span class="header-section-number">11.4</span> Exercises</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>DevOps for Data Science (working title)</strong>" was written by Alex Gold. It was last built on 2022-01-30.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
