# Cheatsheets  {#sec-append-cheat}


## Cheatsheet: Command Line {#cheat-cli}

### General Command Line

| Symbol          | What it is                        |
|-----------------|-----------------------------------|
| `man <command>` | Open manual for `command`         |
| `q`             | Quit the current screen           |
| `\`             | Continue bash command on new line |
| `ctrl + c`      | Quit current execution            |

### Linux Navigation

+---------------+-------------------------+-------------------------+
| Command       | What it does/is         | Notes + Helpful options |
+===============+=========================+=========================+
| `/`           | System root or file     |                         |
|               | path separator          |                         |
+---------------+-------------------------+-------------------------+
| `.`           | current working         |                         |
|               | directory               |                         |
+---------------+-------------------------+-------------------------+
| `..`          | Parent of working       |                         |
|               | directory               |                         |
+---------------+-------------------------+-------------------------+
| `~`           | Home directory of the   |                         |
|               | current user            |                         |
+---------------+-------------------------+-------------------------+
| `ls <dir>`    | List objects in a       | `-l` - format as list   |
|               | directory               |                         |
|               |                         | `-a` - all (include     |
|               |                         | hidden files that start |
|               |                         | with `.`)               |
+---------------+-------------------------+-------------------------+
| `pwd`         | Print working directory |                         |
+---------------+-------------------------+-------------------------+
| `cd <dir>`    | Change directory        | Can use relative or     |
|               |                         | absolute paths          |
+---------------+-------------------------+-------------------------+

### Reading Text Files

+---------------------+---------------------+---------------------+
| Command             | What it does        | Notes + Helpful     |
|                     |                     | options             |
+=====================+=====================+=====================+
| `cat <file>`        | Print a file from   |                     |
|                     | the top.            |                     |
+---------------------+---------------------+---------------------+
| `less <file>`       | Print a file, but   | Can be very helpful |
|                     | just a little.      | to look at a few    |
|                     |                     | rows of csv.        |
|                     |                     |                     |
|                     |                     | Lazily reads lines, |
|                     |                     | so can be *much*    |
|                     |                     | faster than `cat`   |
|                     |                     | for big files.      |
+---------------------+---------------------+---------------------+
| `head <file>`       | Look at the         | Defaults to 10      |
|                     | beginning of a      | lines, can specify  |
|                     | file.               | a different number  |
|                     |                     | with `-n <n>`.      |
+---------------------+---------------------+---------------------+
| `tail <file>`       | Look at the end of  | Useful for logs     |
|                     | a file.             | where the newest    |
|                     |                     | part is last.       |
|                     |                     |                     |
|                     |                     | The `-f` flag is    |
|                     |                     | useful to follow    |
|                     |                     | for a live view.    |
+---------------------+---------------------+---------------------+
| `g                  | Search a file using | Writing regex can   |
| r e p <expression>` | regex.              | be a pain. I        |
|                     |                     | suggest testing     |
|                     |                     | expressions on      |
|                     |                     | regex101.com.       |
|                     |                     |                     |
|                     |                     | Often useful in     |
|                     |                     | combination with    |
|                     |                     | the pipe.           |
+---------------------+---------------------+---------------------+
| `|`                 | The pipe            |                     |
+---------------------+---------------------+---------------------+

### Manipulating Files

+------------------+-----------------------+-----------------------+
| Command          | What it does/is       | Notes + Helpful       |
|                  |                       | Options               |
+==================+=======================+=======================+
| `rm <path>`      | Remove                | `-r` - recursively    |
|                  |                       | remove everything     |
|                  |                       | below a file path     |
|                  |                       |                       |
|                  |                       | `-f` - force - don't  |
|                  |                       | ask for each file     |
|                  |                       |                       |
|                  |                       | **Be very careful,    |
|                  |                       | it's permanent**      |
+------------------+-----------------------+-----------------------+
| `                | Copy                  |                       |
| c p <from> <to>` |                       |                       |
+------------------+-----------------------+-----------------------+
| `                | Move                  |                       |
| m v <from> <to>` |                       |                       |
+------------------+-----------------------+-----------------------+
| `*`              | Wildcard              |                       |
+------------------+-----------------------+-----------------------+
| `mkdir`/`rmdir`  | Make/remove directory | `-p` - create any     |
|                  |                       | parts of path that    |
|                  |                       | don't exist           |
+------------------+-----------------------+-----------------------+

### Move things to/from server

+--------------+-------------------------+-------------------------+
| Command      | What it does            | Notes + Helpful options |
+==============+=========================+=========================+
| `tar`        | Create/extract archive  | Almost always used with |
|              | file                    | flags.                  |
|              |                         |                         |
|              |                         | Create is usually       |
|              |                         |                         |
|              |                         | `tar -czf <  a          |
|              |                         | rchive name> <file(s)>` |
|              |                         |                         |
|              |                         | Extract is usually      |
|              |                         |                         |
|              |                         | `t                      |
|              |                         | ar -xfv <archive name>` |
+--------------+-------------------------+-------------------------+
| `scp`        | Secure copy via `ssh`   | Run on laptop to server |
|              |                         |                         |
|              |                         | Can use most `ssh`      |
|              |                         | flags (like `-i` and    |
|              |                         | `-v`)                   |
+--------------+-------------------------+-------------------------+

### Write files from the command line

+------------+----------------------+---------------------------------+
| Command    | What it does         | Notes                           |
+============+======================+=================================+
| `touch`    | Creates file if      | Updates last updated to current |
|            | doesn't already      | time if it does exist.          |
|            | exist.               |                                 |
+------------+----------------------+---------------------------------+
| `>`        | Overwrite file       | Creates a new file if it        |
|            | contents             | doesn't exist                   |
+------------+----------------------+---------------------------------+
| `>>`       | Concatenate to end   | Creates a new file if it        |
|            | of file              | doesn't exist                   |
+------------+----------------------+---------------------------------+

### Command Line Text Editors (Vim + Nano)

+-------------+----------------------------+---------------------------+
| Command     | What it does               | Notes + Helpful options   |
+=============+============================+===========================+
| `^`         | Prefix for file command in | Its the `âŒ˜` or `Ctrl`     |
|             | `nano` editor.             | key, not the caret        |
|             |                            | symbol.                   |
+-------------+----------------------------+---------------------------+
| `i`         | Enter insert mode (able to |                           |
|             | type) in `vim`             |                           |
+-------------+----------------------------+---------------------------+
| `escape`    | Enter normal mode          |                           |
|             | (navigation) in `vim`.     |                           |
+-------------+----------------------------+---------------------------+
| `:w`        | Write the current file in  | Can be combined to save   |
|             | `vim` (from normal mode)   | and quit in one, `:wq`    |
+-------------+----------------------------+---------------------------+
| `:q`        | Quit `vim` (from normal    | `:q!` quit without saving |
|             | mode)                      |                           |
+-------------+----------------------------+---------------------------+

## Cheatsheet: Users and Permissions {#cheat-file}

### Users

| Command              | What it does                                          |
|---------------------|------------------------------------------------|
| `su <username>`      | Change to be a different user.                        |
| `whoami`             | Get username of current user.                         |
| `id`                 | Get full user + group info on current user.           |
| `passwd`             | Change password.                                      |
| `useradd`            | Add a new user.                                       |
| `usermod <username>` | Modify user `username`. `-aG <group>` adds to a group |

### Permissions

| Command                      | What it does                                            | Helpful options + notes                                                                                          |
|-----------------------------|-----------------------|---------------------------------|
| `chmod <permissions> <file>` | Modifies permissions on a file.                         | Number indicates permissions for user, group, others: add 4 for read, 2 for write, 1 for execute, 0 for nothing. |
| `chown <user/group> <file>`  | Change the owner of a file.                             | Can be used for user or group, e.g. `:my-group`.                                                                 |
| `su <username>`              | Change active user to `username`.                       |                                                                                                                  |
| `sudo <command>`             | Adopt super user permissions for the following command. |                                                                                                                  |

## Cheatsheet: `ssh` {#cheat-ssh}

``` bash
ssh <user>@<host>
```

| Flag | What it does                       | Notes                                         |
|------------------|-----------------------|--------------------------------|
| `-v` | Verbose, good for debugging.       | Add more `v`s as you please, `-vv` or `-vvv`. |
| `-i` | Choose identity file (private key) | Not necessary with default key names.         |

## Cheatsheet: Linux Admin Commands {#cheat-admin}

### Users

+----------------+-----------------------------------------------+
| Command        | What it does                                  |
+================+===============================================+
| `              | Change to be a different user.                |
| su <username>` |                                               |
+----------------+-----------------------------------------------+
| `whoami`       | Get username of current user.                 |
+----------------+-----------------------------------------------+
| `id`           | Get full user + group info on current user.   |
+----------------+-----------------------------------------------+
| `passwd`       | Change password.                              |
+----------------+-----------------------------------------------+
| `useradd`      | Add a new user.                               |
+----------------+-----------------------------------------------+
| `use r m       | Modify user `username`. `-aG <group>` adds to |
| od <username>` | a group                                       |
+----------------+-----------------------------------------------+

### Permissions

+----------------+----------------+---------------------+
| Command        | What it does   | Helpful options +   |
|                |                | notes               |
+================+================+=====================+
| `ch m          | Modifies       | Number indicates    |
| od <per m i s  | permissions on | permissions for     |
| sions> <file>` | a file.        | user, group,        |
|                |                | others: add 4 for   |
|                |                | read, 2 for write,  |
|                |                | 1 for execute, 0    |
|                |                | for nothing.        |
+----------------+----------------+---------------------+
| `c h           | Change the     | Can be used for     |
| own <us e r /  | owner of a     | user or group, e.g. |
| group> <file>` | file.          | `:my-group`.        |
+----------------+----------------+---------------------+
| `              | Change active  |                     |
| su <username>` | user to        |                     |
|                | `username`.    |                     |
+----------------+----------------+---------------------+
| `s             | Adopt super    |                     |
| udo <command>` | user           |                     |
|                | permissions    |                     |
|                | for the        |                     |
|                | following      |                     |
|                | command.       |                     |
+----------------+----------------+---------------------+

### Install applications (Ubuntu)

+---------------------------+----------------------------+
| **Command**               | **What it does**           |
+---------------------------+----------------------------+
| `apt-get u p d a          | Fetch and install upgrades |
| te && apt-get upgrade -y` | to system packages         |
+---------------------------+----------------------------+
| `a                        | Install a system package.  |
| pt-get install <package>` |                            |
+---------------------------+----------------------------+
| `wget`                    | Download a file from a     |
|                           | URL.                       |
+---------------------------+----------------------------+
| `gdebi`                   | Install local `.deb` file. |
+---------------------------+----------------------------+

### Storage

+----------------+----------------+---------------------+
| Command        | What it does   | Helpful options     |
+================+================+=====================+
| `df`           | Check storage  | `-h` for human      |
|                | space on       | readable file       |
|                | device.        | sizes.              |
+----------------+----------------+---------------------+
| `du`           | Check size of  | Most likely to be   |
|                | files.         | used as             |
|                |                | `d u                |
|                |                | -h <dir> | sort -h` |
|                |                |                     |
|                |                | Also useful to      |
|                |                | combine with        |
|                |                | `head`.             |
+----------------+----------------+---------------------+

### Processes

+----------------+----------------+---------------------------+
| Command        | What it does   | Helpful options           |
+================+================+===========================+
| `top`          | See what's     |                           |
|                | running on the |                           |
|                | system.        |                           |
+----------------+----------------+---------------------------+
| `ps aux`       | See all system | Consider using `--sort`   |
|                | processes.     | and pipe into `head` or   |
|                |                | `grep`                    |
+----------------+----------------+---------------------------+
| `kill`         | Kill a system  | `-9` to force kill        |
|                | process.       | immediately               |
+----------------+----------------+---------------------------+

### Networking

+----------------+-------------------------+----------------+
| Command        | What it does            | Helpful        |
|                |                         | options        |
+================+=========================+================+
| `netstat`      | See ports and services  | Usually used   |
|                | using them.             | with `-tlp`,   |
|                |                         | for tcp        |
|                |                         | listening      |
|                |                         | applications,  |
|                |                         | including      |
|                |                         | `pid`          |
+----------------+-------------------------+----------------+
| `ssh - L       | Port forwards a remote  | Choose local   |
|  <port>:<ip>:  | port on host to local.  | port to match  |
| <port> <host>` |                         | remote port.   |
|                |                         | Remote `ip` is |
|                |                         | usually        |
|                |                         | `localhost`.   |
+----------------+-------------------------+----------------+

### The path

+-----------------------+--------------------------------------+
| Command               | What it does                         |
+=======================+======================================+
| `which <command>`     | Finds the location of the binary     |
|                       | that runs when you run `command`.    |
+-----------------------+--------------------------------------+
| `ln -s <              | Creates a symlink from file at       |
| location to link>: <  | `location to link` to                |
| location of symlink>` | `location of symlink`.               |
+-----------------------+--------------------------------------+

## Cheatsheet: IP Addresses and Ports {#cheat-ports}

### Special IP Addresses

+---------------+----------------------------------------------------+
| Code          | Meaning                                            |
+===============+====================================================+
| 127.0.0.1     | `localhost` or loopback -- the machine that        |
|               | originated the request                             |
+---------------+----------------------------------------------------+
| 192.168.x.x   | Protected address blocks used for private IP       |
|               | addresses.                                         |
| 172.16.x.x.x  |                                                    |
|               |                                                    |
| 10.x.x.x      |                                                    |
+---------------+----------------------------------------------------+

### Special Ports

All ports below 1024 are reserved for server tasks and cannot be
assigned to admin-controlled services.

| Protocol/Application | Default Port |
|----------------------|--------------|
| HTTP                 | 80           |
| HTTPS                | 443          |
| SSH                  | 22           |
| PostgreSQL           | 5432         |
| RStudio Server       |              |
| Shiny Server         |              |
| JupyterHub           |              |
