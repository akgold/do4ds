<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DevOps for Data Science - Appendix D — Cheatsheets</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../chapters/append/lab-map.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-EQR1RYSHQK"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-EQR1RYSHQK', { 'anonymize_ip': true});
</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/append/auth.html">Appendices</a></li><li class="breadcrumb-item"><a href="../../chapters/append/cheatsheets.html"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Cheatsheets</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">DevOps for Data Science</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/akgold/do4ds" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../chapters/sec1/1-0-sec-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DevOps Lessons for Data Science</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec1/1-1-env-as-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Environments as Code</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec1/1-2-proj-arch.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Project Architecture Guidelines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec1/1-3-data-access.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Using databases and data APIs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec1/1-4-monitor-log.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Logging and Monitoring</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec1/1-5-deployments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Deployments and code promotion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec1/1-6-docker.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Demystifying Docker</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../chapters/sec2/2-0-sec-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">IT/Admin for Data Science</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-1-cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">The Cloud</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-2-cmd-line.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Customizing the command line</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-3-linux.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Intro to Linux Administration</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-4-app-admin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Application administration</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-5-scale.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Server Resources and Scaling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-6-networking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Intro to Computer Networks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-7-dns.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">DNS allows for human-readable addresses</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-8-ssl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">You should use SSL/HTTPS</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../chapters/sec3/3-0-sec-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Enterprise-grade data science</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec3/3-1-ent-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Enterprise Networking</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec3/3-2-auth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Auth in Enterprise</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec3/3-3-ent-scale.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Compute at enterprise scale</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec3/3-4-ent-pm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Package Management in the Enterprise</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/append/auth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Auth Technologies</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/append/lb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Technical Detail: Load balancers</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/append/lab-map.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Lab Map</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/append/cheatsheets.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Cheatsheets</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#environments-as-code" id="toc-environments-as-code" class="nav-link active" data-scroll-target="#environments-as-code"><span class="header-section-number">D.1</span> Environments as Code</a>
  <ul class="collapse">
  <li><a href="#checking-library-repository-status" id="toc-checking-library-repository-status" class="nav-link" data-scroll-target="#checking-library-repository-status"><span class="header-section-number">D.1.1</span> Checking library + repository status</a></li>
  <li><a href="#creating-and-using-a-standalone-project-library" id="toc-creating-and-using-a-standalone-project-library" class="nav-link" data-scroll-target="#creating-and-using-a-standalone-project-library"><span class="header-section-number">D.1.2</span> Creating and Using a Standalone Project Library</a></li>
  <li><a href="#collaborating-on-someone-elses-project" id="toc-collaborating-on-someone-elses-project" class="nav-link" data-scroll-target="#collaborating-on-someone-elses-project"><span class="header-section-number">D.1.3</span> Collaborating on someone else’s project</a></li>
  </ul></li>
  <li><a href="#cheat-http" id="toc-cheat-http" class="nav-link" data-scroll-target="#cheat-http"><span class="header-section-number">D.2</span> HTTP Code Cheatsheet</a></li>
  <li><a href="#cheat-git" id="toc-cheat-git" class="nav-link" data-scroll-target="#cheat-git"><span class="header-section-number">D.3</span> Cheatsheet: Git</a></li>
  <li><a href="#cheat-docker" id="toc-cheat-docker" class="nav-link" data-scroll-target="#cheat-docker"><span class="header-section-number">D.4</span> Docker</a>
  <ul class="collapse">
  <li><a href="#docker-cli-commands" id="toc-docker-cli-commands" class="nav-link" data-scroll-target="#docker-cli-commands"><span class="header-section-number">D.4.1</span> Docker CLI Commands</a></li>
  <li><a href="#flags-for-docker-run" id="toc-flags-for-docker-run" class="nav-link" data-scroll-target="#flags-for-docker-run"><span class="header-section-number">D.4.2</span> Flags for <code>docker run</code></a></li>
  <li><a href="#dockerfile-commands" id="toc-dockerfile-commands" class="nav-link" data-scroll-target="#dockerfile-commands"><span class="header-section-number">D.4.3</span> Dockerfile Commands</a></li>
  </ul></li>
  <li><a href="#cloud-services" id="toc-cloud-services" class="nav-link" data-scroll-target="#cloud-services"><span class="header-section-number">D.5</span> Cloud Services</a></li>
  <li><a href="#cheat-cli" id="toc-cheat-cli" class="nav-link" data-scroll-target="#cheat-cli"><span class="header-section-number">D.6</span> Command Line</a>
  <ul class="collapse">
  <li><a href="#general-command-line" id="toc-general-command-line" class="nav-link" data-scroll-target="#general-command-line"><span class="header-section-number">D.6.1</span> General Command Line</a></li>
  <li><a href="#linux-navigation" id="toc-linux-navigation" class="nav-link" data-scroll-target="#linux-navigation"><span class="header-section-number">D.6.2</span> Linux Navigation</a></li>
  <li><a href="#reading-text-files" id="toc-reading-text-files" class="nav-link" data-scroll-target="#reading-text-files"><span class="header-section-number">D.6.3</span> Reading Text Files</a></li>
  <li><a href="#manipulating-files" id="toc-manipulating-files" class="nav-link" data-scroll-target="#manipulating-files"><span class="header-section-number">D.6.4</span> Manipulating Files</a></li>
  <li><a href="#move-things-tofrom-server" id="toc-move-things-tofrom-server" class="nav-link" data-scroll-target="#move-things-tofrom-server"><span class="header-section-number">D.6.5</span> Move things to/from server</a></li>
  <li><a href="#write-files-from-the-command-line" id="toc-write-files-from-the-command-line" class="nav-link" data-scroll-target="#write-files-from-the-command-line"><span class="header-section-number">D.6.6</span> Write files from the command line</a></li>
  <li><a href="#command-line-text-editors-vim-nano" id="toc-command-line-text-editors-vim-nano" class="nav-link" data-scroll-target="#command-line-text-editors-vim-nano"><span class="header-section-number">D.6.7</span> Command Line Text Editors (Vim + Nano)</a></li>
  </ul></li>
  <li><a href="#cheat-file" id="toc-cheat-file" class="nav-link" data-scroll-target="#cheat-file"><span class="header-section-number">D.7</span> Cheatsheet: Users and Permissions</a>
  <ul class="collapse">
  <li><a href="#users" id="toc-users" class="nav-link" data-scroll-target="#users"><span class="header-section-number">D.7.1</span> Users</a></li>
  <li><a href="#permissions" id="toc-permissions" class="nav-link" data-scroll-target="#permissions"><span class="header-section-number">D.7.2</span> Permissions</a></li>
  </ul></li>
  <li><a href="#cheat-ssh" id="toc-cheat-ssh" class="nav-link" data-scroll-target="#cheat-ssh"><span class="header-section-number">D.8</span> Cheatsheet: <code>ssh</code></a></li>
  <li><a href="#cheat-admin" id="toc-cheat-admin" class="nav-link" data-scroll-target="#cheat-admin"><span class="header-section-number">D.9</span> Cheatsheet: Linux Admin Commands</a>
  <ul class="collapse">
  <li><a href="#users-1" id="toc-users-1" class="nav-link" data-scroll-target="#users-1"><span class="header-section-number">D.9.1</span> Users</a></li>
  <li><a href="#permissions-1" id="toc-permissions-1" class="nav-link" data-scroll-target="#permissions-1"><span class="header-section-number">D.9.2</span> Permissions</a></li>
  <li><a href="#install-applications-ubuntu" id="toc-install-applications-ubuntu" class="nav-link" data-scroll-target="#install-applications-ubuntu"><span class="header-section-number">D.9.3</span> Install applications (Ubuntu)</a></li>
  <li><a href="#storage" id="toc-storage" class="nav-link" data-scroll-target="#storage"><span class="header-section-number">D.9.4</span> Storage</a></li>
  <li><a href="#processes" id="toc-processes" class="nav-link" data-scroll-target="#processes"><span class="header-section-number">D.9.5</span> Processes</a></li>
  <li><a href="#networking" id="toc-networking" class="nav-link" data-scroll-target="#networking"><span class="header-section-number">D.9.6</span> Networking</a></li>
  <li><a href="#the-path" id="toc-the-path" class="nav-link" data-scroll-target="#the-path"><span class="header-section-number">D.9.7</span> The path</a></li>
  </ul></li>
  <li><a href="#cheat-ports" id="toc-cheat-ports" class="nav-link" data-scroll-target="#cheat-ports"><span class="header-section-number">D.10</span> Cheatsheet: IP Addresses and Ports</a>
  <ul class="collapse">
  <li><a href="#special-ip-addresses" id="toc-special-ip-addresses" class="nav-link" data-scroll-target="#special-ip-addresses"><span class="header-section-number">D.10.1</span> Special IP Addresses</a></li>
  <li><a href="#special-ports" id="toc-special-ports" class="nav-link" data-scroll-target="#special-ports"><span class="header-section-number">D.10.2</span> Special Ports</a></li>
  </ul></li>
  <li><a href="#cheatsheet-debugging-tips" id="toc-cheatsheet-debugging-tips" class="nav-link" data-scroll-target="#cheatsheet-debugging-tips"><span class="header-section-number">D.11</span> Cheatsheet: Debugging Tips</a>
  <ul class="collapse">
  <li><a href="#check-storage-usage" id="toc-check-storage-usage" class="nav-link" data-scroll-target="#check-storage-usage"><span class="header-section-number">D.11.1</span> Check storage usage</a></li>
  <li><a href="#look-at-whats-running" id="toc-look-at-whats-running" class="nav-link" data-scroll-target="#look-at-whats-running"><span class="header-section-number">D.11.2</span> Look at what’s running</a></li>
  <li><a href="#make-sure-the-right-ports-are-open" id="toc-make-sure-the-right-ports-are-open" class="nav-link" data-scroll-target="#make-sure-the-right-ports-are-open"><span class="header-section-number">D.11.3</span> Make sure the right ports are open</a></li>
  <li><a href="#check-your-path" id="toc-check-your-path" class="nav-link" data-scroll-target="#check-your-path"><span class="header-section-number">D.11.4</span> Check your path</a></li>
  </ul></li>
  <li><a href="#comprehension-questions" id="toc-comprehension-questions" class="nav-link" data-scroll-target="#comprehension-questions"><span class="header-section-number">D.12</span> Comprehension Questions</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/akgold/do4ds/edit/main/chapters/append/cheatsheets.qmd" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-append-cheat" class="quarto-section-identifier">Appendix D — Cheatsheets</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="environments-as-code" class="level2" data-number="D.1">
<h2 data-number="D.1" class="anchored" data-anchor-id="environments-as-code"><span class="header-section-number">D.1</span> Environments as Code</h2>
<section id="checking-library-repository-status" class="level3" data-number="D.1.1">
<h3 data-number="D.1.1" class="anchored" data-anchor-id="checking-library-repository-status"><span class="header-section-number">D.1.1</span> Checking library + repository status</h3>
<table class="table">
<colgroup>
<col style="width: 54%">
<col style="width: 22%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>R Command</th>
<th>Python Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Check whether library in sync with lockfile.</td>
<td><code>re nv::status()</code></td>
<td>None</td>
</tr>
</tbody>
</table>
</section>
<section id="creating-and-using-a-standalone-project-library" class="level3" data-number="D.1.2">
<h3 data-number="D.1.2" class="anchored" data-anchor-id="creating-and-using-a-standalone-project-library"><span class="header-section-number">D.1.2</span> Creating and Using a Standalone Project Library</h3>
<p>Make sure you’re in a standalone project library.</p>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 30%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>R Command</th>
<th>Python Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Make sure you’ve got <code>{r  env}/{venv}</code>.</td>
<td><code>in s t a l l . packages("renv")</code></td>
<td>Included w/ Python 3.5+</td>
</tr>
<tr class="even">
<td>Create a standalone library.</td>
<td><code>renv::init()</code></td>
<td><p><code>p y t h on -m venv &lt;dir&gt;</code></p>
<p>Convention: <code>u s e  .venv for &lt;dir&gt;</code></p></td>
</tr>
<tr class="odd">
<td>Activate project library.</td>
<td><p><code>renv::activate()</code></p>
<p>Happens automatically if using projects.</p></td>
<td><code>sou r c e &lt; d i r&gt; /bin/activate</code></td>
</tr>
<tr class="even">
<td>Install packages as normal.</td>
<td><code>ins t a l l . p ackages("&lt;pkg&gt;")</code></td>
<td><code>pyth o n - m p ip install &lt;pkg&gt;</code></td>
</tr>
<tr class="odd">
<td>Snapshot package state.</td>
<td><code>renv::snapshot()</code></td>
<td><code>p ip fr e e z e &gt; requirements.txt</code></td>
</tr>
<tr class="even">
<td>Exit project environment.</td>
<td>Leave R project.</td>
<td><code>deactivate</code></td>
</tr>
</tbody>
</table>
</section>
<section id="collaborating-on-someone-elses-project" class="level3" data-number="D.1.3">
<h3 data-number="D.1.3" class="anchored" data-anchor-id="collaborating-on-someone-elses-project"><span class="header-section-number">D.1.3</span> Collaborating on someone else’s project</h3>
<p>Start by downloading the project into a directory on your machine.</p>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 30%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>R Command</th>
<th>Python Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Move into project directory.</td>
<td><p><code>set wd ( "&lt;project-dir&gt;")</code></p>
<p>Or just open R project in RStudio.</p></td>
<td><code>cd &lt;project-dir&gt;</code></td>
</tr>
<tr class="even">
<td>Create project environment.</td>
<td><code>renv::init()</code></td>
<td><p><code>py t h on -m venv &lt;dir&gt;</code></p>
<p>Recommend: <code>u s e  .venv for &lt;dir&gt;</code></p></td>
</tr>
<tr class="odd">
<td>Enter project environment.</td>
<td>Happens automatically or <code>renv::activate()</code></td>
<td><code>source &lt; d i r&gt; /bin/activate</code></td>
</tr>
<tr class="even">
<td>Restore packages.</td>
<td>Happens automatically or <code>renv::restore()</code></td>
<td><code>pip install - r requirements.txt</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="cheat-http" class="level2" data-number="D.2">
<h2 data-number="D.2" class="anchored" data-anchor-id="cheat-http"><span class="header-section-number">D.2</span> HTTP Code Cheatsheet</h2>
<p>As you work more with HTTP traffic, you’ll learn some of the common codes. Here’s a cheatsheet for some of the most frequent you’ll see.</p>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 69%">
</colgroup>
<thead>
<tr class="header">
<th>Code</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>200</code></td>
<td>Everyone’s favorite, a successful response.</td>
</tr>
<tr class="even">
<td><code>3xx</code></td>
<td>Your query was redirected somewhere else, usually ok.</td>
</tr>
<tr class="odd">
<td><code>4xx</code></td>
<td>Errors with the request</td>
</tr>
<tr class="even">
<td><code>400</code></td>
<td>Bad request. This isn’t a request the server can understand.</td>
</tr>
<tr class="odd">
<td><code>401</code> and <code>403</code></td>
<td>Unauthorized or forbidden. Required authentication hasn’t been provided.</td>
</tr>
<tr class="even">
<td><code>404</code></td>
<td>Not found. There isn’t any content to access here.</td>
</tr>
<tr class="odd">
<td><code>5xx</code></td>
<td>Errors with the server once your request got there.</td>
</tr>
<tr class="even">
<td><code>500</code></td>
<td>Generic server-side error. Your request was received, but there was an error processing it.</td>
</tr>
<tr class="odd">
<td><code>504</code></td>
<td>Gateway timeout. This means that a proxy or gateway between you and the server you’re trying to access timed out before it got a response from the server.</td>
</tr>
</tbody>
</table>
</section>
<section id="cheat-git" class="level2" data-number="D.3">
<h2 data-number="D.3" class="anchored" data-anchor-id="cheat-git"><span class="header-section-number">D.3</span> Cheatsheet: Git</h2>
<table class="table">
<colgroup>
<col style="width: 37%">
<col style="width: 62%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it Does</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>git clone &lt;remote&gt;</code></td>
<td>Clone a remote repo – make sure you’re using SSH URL.</td>
</tr>
<tr class="even">
<td><code>git add &lt;files/dir&gt;</code></td>
<td>Add files/dir to staging area.</td>
</tr>
<tr class="odd">
<td><code>git commit -m &lt;message&gt;</code></td>
<td>Commit your staging area.</td>
</tr>
<tr class="even">
<td><code>git push origin &lt;branch&gt;</code></td>
<td>Push to a remote.</td>
</tr>
<tr class="odd">
<td><code>git pull origin &lt;branch&gt;</code></td>
<td>Pull from a remote.</td>
</tr>
<tr class="even">
<td><code>git checkout &lt;branch name&gt;</code></td>
<td>Checkout a branch.</td>
</tr>
<tr class="odd">
<td><code>git checkout -b &lt;branch name&gt;</code></td>
<td>Create and checkout a branch.</td>
</tr>
<tr class="even">
<td><code>git branch -d &lt;branch name&gt;</code></td>
<td>Delete a branch.</td>
</tr>
</tbody>
</table>
</section>
<section id="cheat-docker" class="level2" data-number="D.4">
<h2 data-number="D.4" class="anchored" data-anchor-id="cheat-docker"><span class="header-section-number">D.4</span> Docker</h2>
<section id="docker-cli-commands" class="level3" data-number="D.4.1">
<h3 data-number="D.4.1" class="anchored" data-anchor-id="docker-cli-commands"><span class="header-section-number">D.4.1</span> Docker CLI Commands</h3>
<table class="table">
<colgroup>
<col style="width: 17%">
<col style="width: 17%">
<col style="width: 20%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th>Stage</th>
<th>Command</th>
<th>What it does</th>
<th>Notes and helpful options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Build</td>
<td><code>dock er build &lt;d i  rectory&gt;</code></td>
<td>Builds a directory containing a Dockerfile into an image.</td>
<td><code>-t &lt;name:tag&gt;</code> provide a name to the container. <code>tag</code> is optional, defaults to <code>latest</code>.</td>
</tr>
<tr class="even">
<td>Move</td>
<td><code>do cker pus h   &lt;image&gt;</code></td>
<td>Push a container to a registry.</td>
<td></td>
</tr>
<tr class="odd">
<td>Move</td>
<td><code>do cker pul l   &lt;image&gt;</code></td>
<td>Pull a container from a registry.</td>
<td>Rarely used because <code>run</code> pulls the container if needed.</td>
</tr>
<tr class="even">
<td>Run</td>
<td><code>d ocker ru n   &lt;image&gt;</code></td>
<td>Run a container.</td>
<td>See flags in next table.</td>
</tr>
<tr class="odd">
<td>Run</td>
<td><code>dock er  stop &lt;c o  ntainer&gt;</code></td>
<td>Stop a running container.</td>
<td><code>docker kill</code> can be used if <code>stop</code> fails.</td>
</tr>
<tr class="even">
<td>Run</td>
<td><code>d  ocker ps</code></td>
<td>List containers.</td>
<td>Useful to get running container id to do things to it.</td>
</tr>
<tr class="odd">
<td>Run</td>
<td><code>doc ker exec &lt;c on  tainer&gt; &lt;  command&gt;</code></td>
<td>Run a command inside a running container.</td>
<td>Basically always used to open a shell in a container with <code>docker exec -it  &lt;container&gt; /bin/bash</code></td>
</tr>
<tr class="even">
<td>Run</td>
<td><code>dock er  logs &lt;c o  ntainer&gt;</code></td>
<td>Views logs for a container.</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="flags-for-docker-run" class="level3" data-number="D.4.2">
<h3 data-number="D.4.2" class="anchored" data-anchor-id="flags-for-docker-run"><span class="header-section-number">D.4.2</span> Flags for <code>docker run</code></h3>
<table class="table">
<caption><em>Reminder: Order for <code>-p</code> and <code>-v</code> is <code>&lt;host&gt;:&lt;container&gt;</code></em></caption>
<colgroup>
<col style="width: 20%">
<col style="width: 29%">
<col style="width: 47%">
</colgroup>
<thead>
<tr class="header">
<th>Flag</th>
<th>Effect</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-- name &lt;name&gt;</code></td>
<td>Give a name to the running container.</td>
<td>Optional. Will be auto-assigned if not provided.</td>
</tr>
<tr class="even">
<td><code>--rm</code></td>
<td>Remove container when its stopped.</td>
<td>Don’t use in production. You probably want to inspect failed containers.</td>
</tr>
<tr class="odd">
<td><code>-d</code></td>
<td>Detach container (don’t block the terminal).</td>
<td>Almost always used in production.</td>
</tr>
<tr class="even">
<td><code>-p &lt;p ort&gt;:&lt;port&gt;</code></td>
<td>Publish port from inside container to outside.</td>
<td>Needed if you want to access an app or API running inside the container.</td>
</tr>
<tr class="odd">
<td><code>-v &lt;dir&gt;:&lt;dir&gt;</code></td>
<td>Mount volume into the container.</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="dockerfile-commands" class="level3" data-number="D.4.3">
<h3 data-number="D.4.3" class="anchored" data-anchor-id="dockerfile-commands"><span class="header-section-number">D.4.3</span> Dockerfile Commands</h3>
<p>These are the commands that go in a Dockerfile when you’re building it.</p>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 52%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>Purpose</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>FROM</code></td>
<td>Indicate base container.</td>
<td><code>FROM rocke r /r-ver:4.1.0</code></td>
</tr>
<tr class="even">
<td><code>RUN</code></td>
<td>Run a command when building.</td>
<td><code>RUN a p t-get update</code></td>
</tr>
<tr class="odd">
<td><code>COPY</code></td>
<td>Copy from build directory into the container.</td>
<td><code>COPY . /app/</code></td>
</tr>
<tr class="even">
<td><code>CMD</code></td>
<td>Specify the command to run when the container starts.</td>
<td><code>CMD qu a rto render .</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="cloud-services" class="level2" data-number="D.5">
<h2 data-number="D.5" class="anchored" data-anchor-id="cloud-services"><span class="header-section-number">D.5</span> Cloud Services</h2>
<p>TODO: finish</p>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 41%">
<col style="width: 18%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Service</th>
<th>AWS</th>
<th>Azure</th>
<th>GCP</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>NAS</td>
<td>EFS (Elastic File System) or FSx</td>
<td>Azure File</td>
<td>Filestore</td>
</tr>
<tr class="even">
<td>Kubernetes cluster</td>
<td>EKS (Elastic Kubernetes Service) or Fargate</td>
<td>AKS (Azure Kubernetes Service)</td>
<td>GKE (Google Kubernetes Engine)</td>
</tr>
<tr class="odd">
<td>Run a container /a pplication</td>
<td>ECS (Elastic Container Service) or Elastic Beanstalk</td>
<td>Azure Container Apps</td>
<td>Google App Engine</td>
</tr>
<tr class="even">
<td>Run an API</td>
<td>Lambda</td>
<td>Azure Functions</td>
<td>Google Cloud Functions</td>
</tr>
<tr class="odd">
<td>Database</td>
<td>RDS or | Azure | Google Cloud Redshif | Database | SQL t[^2-1-cloud-8] | | |</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>ML Platform</td>
<td>SageMaker</td>
<td>Azure ML</td>
<td>Vertex AI</td>
</tr>
</tbody>
</table>
</section>
<section id="cheat-cli" class="level2" data-number="D.6">
<h2 data-number="D.6" class="anchored" data-anchor-id="cheat-cli"><span class="header-section-number">D.6</span> Command Line</h2>
<section id="general-command-line" class="level3" data-number="D.6.1">
<h3 data-number="D.6.1" class="anchored" data-anchor-id="general-command-line"><span class="header-section-number">D.6.1</span> General Command Line</h3>
<table class="table">
<thead>
<tr class="header">
<th>Symbol</th>
<th>What it is</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>man &lt;command&gt;</code></td>
<td>Open manual for <code>command</code></td>
</tr>
<tr class="even">
<td><code>q</code></td>
<td>Quit the current screen</td>
</tr>
<tr class="odd">
<td><code>\</code></td>
<td>Continue bash command on new line</td>
</tr>
<tr class="even">
<td><code>ctrl + c</code></td>
<td>Quit current execution</td>
</tr>
</tbody>
</table>
</section>
<section id="linux-navigation" class="level3" data-number="D.6.2">
<h3 data-number="D.6.2" class="anchored" data-anchor-id="linux-navigation"><span class="header-section-number">D.6.2</span> Linux Navigation</h3>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 36%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does/is</th>
<th>Notes + Helpful options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>/</code></td>
<td>System root or file path separator</td>
<td></td>
</tr>
<tr class="even">
<td><code>.</code></td>
<td>current working directory</td>
<td></td>
</tr>
<tr class="odd">
<td><code>..</code></td>
<td>Parent of working directory</td>
<td></td>
</tr>
<tr class="even">
<td><code>~</code></td>
<td>Home directory of the current user</td>
<td></td>
</tr>
<tr class="odd">
<td><code>ls &lt;dir&gt;</code></td>
<td>List objects in a directory</td>
<td><p><code>-l</code> - format as list</p>
<p><code>-a</code> - all (include hidden files that start with <code>.</code>)</p></td>
</tr>
<tr class="even">
<td><code>pwd</code></td>
<td>Print working directory</td>
<td></td>
</tr>
<tr class="odd">
<td><code>cd &lt;dir&gt;</code></td>
<td>Change directory</td>
<td>Can use relative or absolute paths</td>
</tr>
</tbody>
</table>
</section>
<section id="reading-text-files" class="level3" data-number="D.6.3">
<h3 data-number="D.6.3" class="anchored" data-anchor-id="reading-text-files"><span class="header-section-number">D.6.3</span> Reading Text Files</h3>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 30%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
<th>Notes + Helpful options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>cat &lt;file&gt;</code></td>
<td>Print a file from the top.</td>
<td></td>
</tr>
<tr class="even">
<td><code>less &lt;file&gt;</code></td>
<td>Print a file, but just a little.</td>
<td><p>Can be very helpful to look at a few rows of csv.</p>
<p>Lazily reads lines, so can be <em>much</em> faster than <code>cat</code> for big files.</p></td>
</tr>
<tr class="odd">
<td><code>head &lt;file&gt;</code></td>
<td>Look at the beginning of a file.</td>
<td>Defaults to 10 lines, can specify a different number with <code>-n &lt;n&gt;</code>.</td>
</tr>
<tr class="even">
<td><code>tail &lt;file&gt;</code></td>
<td>Look at the end of a file.</td>
<td><p>Useful for logs where the newest part is last.</p>
<p>The <code>-f</code> flag is useful to follow for a live view.</p></td>
</tr>
<tr class="odd">
<td><code>g r   e p &lt;expression&gt;</code></td>
<td>Search a file using regex.</td>
<td><p>Writing regex can be a pain. I suggest testing expressions on regex101.com.</p>
<p>Often useful in combination with the pipe.</p></td>
</tr>
<tr class="even">
<td><code>|</code></td>
<td>The pipe</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="manipulating-files" class="level3" data-number="D.6.4">
<h3 data-number="D.6.4" class="anchored" data-anchor-id="manipulating-files"><span class="header-section-number">D.6.4</span> Manipulating Files</h3>
<table class="table">
<colgroup>
<col style="width: 29%">
<col style="width: 30%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does/is</th>
<th>Notes + Helpful Options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>rm &lt;path&gt;</code></td>
<td>Remove</td>
<td><p><code>-r</code> - recursively remove everything below a file path</p>
<p><code>-f</code> - force - don’t ask for each file</p>
<p><strong>Be very careful, it’s permanent</strong></p></td>
</tr>
<tr class="even">
<td><code>c   p &lt;from&gt; &lt;to&gt;</code></td>
<td>Copy</td>
<td></td>
</tr>
<tr class="odd">
<td><code>m   v &lt;from&gt; &lt;to&gt;</code></td>
<td>Move</td>
<td></td>
</tr>
<tr class="even">
<td><code>*</code></td>
<td>Wildcard</td>
<td></td>
</tr>
<tr class="odd">
<td><code>mkdir</code>/<code>rmdir</code></td>
<td>Make/remove directory</td>
<td><code>-p</code> - create any parts of path that don’t exist</td>
</tr>
</tbody>
</table>
</section>
<section id="move-things-tofrom-server" class="level3" data-number="D.6.5">
<h3 data-number="D.6.5" class="anchored" data-anchor-id="move-things-tofrom-server"><span class="header-section-number">D.6.5</span> Move things to/from server</h3>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 36%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
<th>Notes + Helpful options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>tar</code></td>
<td>Create/extract archive file</td>
<td><p>Almost always used with flags.</p>
<p>Create is usually</p>
<p><code>tar -czf &lt; a  r c hive name&gt; &lt;file(s)&gt;</code></p>
<p>Extract is usually</p>
<p><code>t  a r  -xfv &lt;archive name&gt;</code></p></td>
</tr>
<tr class="even">
<td><code>scp</code></td>
<td>Secure copy via <code>ssh</code></td>
<td><p>Run on laptop to server</p>
<p>Can use most <code>ssh</code> flags (like <code>-i</code> and <code>-v</code>)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="write-files-from-the-command-line" class="level3" data-number="D.6.6">
<h3 data-number="D.6.6" class="anchored" data-anchor-id="write-files-from-the-command-line"><span class="header-section-number">D.6.6</span> Write files from the command line</h3>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 31%">
<col style="width: 47%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>touch</code></td>
<td>Creates file if doesn’t already exist.</td>
<td>Updates last updated to current time if it does exist.</td>
</tr>
<tr class="even">
<td><code>&gt;</code></td>
<td>Overwrite file contents</td>
<td>Creates a new file if it doesn’t exist</td>
</tr>
<tr class="odd">
<td><code>&gt;&gt;</code></td>
<td>Concatenate to end of file</td>
<td>Creates a new file if it doesn’t exist</td>
</tr>
</tbody>
</table>
</section>
<section id="command-line-text-editors-vim-nano" class="level3" data-number="D.6.7">
<h3 data-number="D.6.7" class="anchored" data-anchor-id="command-line-text-editors-vim-nano"><span class="header-section-number">D.6.7</span> Command Line Text Editors (Vim + Nano)</h3>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 40%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
<th>Notes + Helpful options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>^</code></td>
<td>Prefix for file command in <code>nano</code> editor.</td>
<td>Its the <code>⌘</code> or <code>Ctrl</code> key, not the caret symbol.</td>
</tr>
<tr class="even">
<td><code>i</code></td>
<td>Enter insert mode (able to type) in <code>vim</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>escape</code></td>
<td>Enter normal mode (navigation) in <code>vim</code>.</td>
<td></td>
</tr>
<tr class="even">
<td><code>:w</code></td>
<td>Write the current file in <code>vim</code> (from normal mode)</td>
<td>Can be combined to save and quit in one, <code>:wq</code></td>
</tr>
<tr class="odd">
<td><code>:q</code></td>
<td>Quit <code>vim</code> (from normal mode)</td>
<td><code>:q!</code> quit without saving</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="cheat-file" class="level2" data-number="D.7">
<h2 data-number="D.7" class="anchored" data-anchor-id="cheat-file"><span class="header-section-number">D.7</span> Cheatsheet: Users and Permissions</h2>
<section id="users" class="level3" data-number="D.7.1">
<h3 data-number="D.7.1" class="anchored" data-anchor-id="users"><span class="header-section-number">D.7.1</span> Users</h3>
<table class="table">
<colgroup>
<col style="width: 29%">
<col style="width: 68%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>su &lt;username&gt;</code></td>
<td>Change to be a different user.</td>
</tr>
<tr class="even">
<td><code>whoami</code></td>
<td>Get username of current user.</td>
</tr>
<tr class="odd">
<td><code>id</code></td>
<td>Get full user + group info on current user.</td>
</tr>
<tr class="even">
<td><code>passwd</code></td>
<td>Change password.</td>
</tr>
<tr class="odd">
<td><code>useradd</code></td>
<td>Add a new user.</td>
</tr>
<tr class="even">
<td><code>u s  ermod &lt;username&gt;</code></td>
<td>Modify user <code>username</code>. <code>-aG &lt;group&gt;</code> adds to a group</td>
</tr>
</tbody>
</table>
</section>
<section id="permissions" class="level3" data-number="D.7.2">
<h3 data-number="D.7.2" class="anchored" data-anchor-id="permissions"><span class="header-section-number">D.7.2</span> Permissions</h3>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 23%">
<col style="width: 51%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
<th>Helpful options + notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>chm o d  &lt;permissi ons&gt; &lt;file&gt;</code></td>
<td>Modifies permissions on a file.</td>
<td>Number indicates permissions for user, group, others: add 4 for read, 2 for write, 1 for execute, 0 for nothing.</td>
</tr>
<tr class="even">
<td><code>cho w n   &lt;user/gr oup&gt; &lt;file&gt;</code></td>
<td>Change the owner of a file.</td>
<td>Can be used for user or group, e.g.&nbsp;<code>:my-group</code>.</td>
</tr>
<tr class="odd">
<td><code>su  &lt;username&gt;</code></td>
<td>Change active user to <code>username</code>.</td>
<td></td>
</tr>
<tr class="even">
<td><code>sud o &lt;command&gt;</code></td>
<td>Adopt super user permissions for the following command.</td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="cheat-ssh" class="level2" data-number="D.8">
<h2 data-number="D.8" class="anchored" data-anchor-id="cheat-ssh"><span class="header-section-number">D.8</span> Cheatsheet: <code>ssh</code></h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ssh</span> <span class="op">&lt;</span>user<span class="op">&gt;</span>@<span class="op">&lt;</span>host<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 33%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Flag</th>
<th>What it does</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-v</code></td>
<td>Verbose, good for debugging.</td>
<td>Add more <code>v</code>s as you please, <code>-vv</code> or <code>-vvv</code>.</td>
</tr>
<tr class="even">
<td><code>-i</code></td>
<td>Choose identity file (private key)</td>
<td>Not necessary with default key names.</td>
</tr>
</tbody>
</table>
</section>
<section id="cheat-admin" class="level2" data-number="D.9">
<h2 data-number="D.9" class="anchored" data-anchor-id="cheat-admin"><span class="header-section-number">D.9</span> Cheatsheet: Linux Admin Commands</h2>
<section id="users-1" class="level3" data-number="D.9.1">
<h3 data-number="D.9.1" class="anchored" data-anchor-id="users-1"><span class="header-section-number">D.9.1</span> Users</h3>
<table class="table">
<colgroup>
<col style="width: 31%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>su &lt;username&gt;</code></td>
<td>Change to be a different user.</td>
</tr>
<tr class="even">
<td><code>whoami</code></td>
<td>Get username of current user.</td>
</tr>
<tr class="odd">
<td><code>id</code></td>
<td>Get full user + group info on current user.</td>
</tr>
<tr class="even">
<td><code>passwd</code></td>
<td>Change password.</td>
</tr>
<tr class="odd">
<td><code>useradd</code></td>
<td>Add a new user.</td>
</tr>
<tr class="even">
<td><code>use   r m od &lt;username&gt;</code></td>
<td>Modify user <code>username</code>. <code>-aG &lt;group&gt;</code> adds to a group</td>
</tr>
</tbody>
</table>
</section>
<section id="permissions-1" class="level3" data-number="D.9.2">
<h3 data-number="D.9.2" class="anchored" data-anchor-id="permissions-1"><span class="header-section-number">D.9.2</span> Permissions</h3>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 23%">
<col style="width: 51%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
<th>Helpful options + notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ch m od &lt;per m i s s ions&gt; &lt;file&gt;</code></td>
<td>Modifies permissions on a file.</td>
<td>Number indicates permissions for user, group, others: add 4 for read, 2 for write, 1 for execute, 0 for nothing.</td>
</tr>
<tr class="even">
<td><code>c h ow n  &lt;us e r / g roup&gt; &lt;file&gt;</code></td>
<td>Change the owner of a file.</td>
<td>Can be used for user or group, e.g.&nbsp;<code>:my-group</code>.</td>
</tr>
<tr class="odd">
<td><code>s u &lt;username&gt;</code></td>
<td>Change active user to <code>username</code>.</td>
<td></td>
</tr>
<tr class="even">
<td><code>s u do &lt;command&gt;</code></td>
<td>Adopt super user permissions for the following command.</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="install-applications-ubuntu" class="level3" data-number="D.9.3">
<h3 data-number="D.9.3" class="anchored" data-anchor-id="install-applications-ubuntu"><span class="header-section-number">D.9.3</span> Install applications (Ubuntu)</h3>
<table class="table">
<colgroup>
<col style="width: 48%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Command</strong></td>
<td><strong>What it does</strong></td>
</tr>
<tr class="even">
<td><code>apt-get u p   d a t e &amp;&amp; apt-get upgrade -y</code></td>
<td>Fetch and install upgrades to system packages</td>
</tr>
<tr class="odd">
<td><code>a p t-get install &lt;package&gt;</code></td>
<td>Install a system package.</td>
</tr>
<tr class="even">
<td><code>wget</code></td>
<td>Download a file from a URL.</td>
</tr>
<tr class="odd">
<td><code>gdebi</code></td>
<td>Install local <code>.deb</code> file.</td>
</tr>
</tbody>
</table>
</section>
<section id="storage" class="level3" data-number="D.9.4">
<h3 data-number="D.9.4" class="anchored" data-anchor-id="storage"><span class="header-section-number">D.9.4</span> Storage</h3>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 36%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
<th>Helpful options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>df</code></td>
<td>Check storage space on device.</td>
<td><code>-h</code> for human readable file sizes.</td>
</tr>
<tr class="even">
<td><code>du</code></td>
<td>Check size of files.</td>
<td><p>Most likely to be used as <code>d u  - h &lt;dir&gt; | sort -h</code></p>
<p>Also useful to combine with <code>head</code>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="processes" class="level3" data-number="D.9.5">
<h3 data-number="D.9.5" class="anchored" data-anchor-id="processes"><span class="header-section-number">D.9.5</span> Processes</h3>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 29%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
<th>Helpful options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>top</code></td>
<td>See what’s running on the system.</td>
<td></td>
</tr>
<tr class="even">
<td><code>ps aux</code></td>
<td>See all system processes.</td>
<td>Consider using <code>--sort</code> and pipe into <code>head</code> or <code>grep</code></td>
</tr>
<tr class="odd">
<td><code>kill</code></td>
<td>Kill a system process.</td>
<td><code>-9</code> to force kill immediately</td>
</tr>
</tbody>
</table>
</section>
<section id="networking" class="level3" data-number="D.9.6">
<h3 data-number="D.9.6" class="anchored" data-anchor-id="networking"><span class="header-section-number">D.9.6</span> Networking</h3>
<table class="table">
<colgroup>
<col style="width: 23%">
<col style="width: 27%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
<th>Helpful options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>netstat</code></td>
<td>See ports and services using them.</td>
<td>Usually used with <code>-tlp</code>, for tcp listening applications, including <code>pid</code></td>
</tr>
<tr class="even">
<td><code>ssh - L  &lt;port&gt;:&lt;ip&gt;: &lt;port&gt; &lt;host&gt;</code></td>
<td>Port forwards a remote port on host to local.</td>
<td>Choose local port to match remote port. Remote <code>ip</code> is usually <code>localhost</code>.</td>
</tr>
</tbody>
</table>
</section>
<section id="the-path" class="level3" data-number="D.9.7">
<h3 data-number="D.9.7" class="anchored" data-anchor-id="the-path"><span class="header-section-number">D.9.7</span> The path</h3>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>which &lt;command&gt;</code></td>
<td>Finds the location of the binary that runs when you run <code>command</code>.</td>
</tr>
<tr class="even">
<td><p><br>
`ln -s &lt; lo cation to link&gt;</p>
<p>: &lt; l ocation of symlink&gt;`</p></td>
<td>Creates a symlink from file at <code>location to link</code> to <code>location of symlink</code>.</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="cheat-ports" class="level2" data-number="D.10">
<h2 data-number="D.10" class="anchored" data-anchor-id="cheat-ports"><span class="header-section-number">D.10</span> Cheatsheet: IP Addresses and Ports</h2>
<section id="special-ip-addresses" class="level3" data-number="D.10.1">
<h3 data-number="D.10.1" class="anchored" data-anchor-id="special-ip-addresses"><span class="header-section-number">D.10.1</span> Special IP Addresses</h3>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th>Code</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>127.0.0.1</td>
<td><code>localhost</code> or loopback – the machine that originated the request</td>
</tr>
<tr class="even">
<td><p>192.168.x.x</p>
<p>172.16.x.x.x</p>
<p>10.x.x.x</p></td>
<td>Protected address blocks used for private IP addresses.</td>
</tr>
</tbody>
</table>
</section>
<section id="special-ports" class="level3" data-number="D.10.2">
<h3 data-number="D.10.2" class="anchored" data-anchor-id="special-ports"><span class="header-section-number">D.10.2</span> Special Ports</h3>
<p>All ports below 1024 are reserved for server tasks and cannot be assigned to admin-controlled services.</p>
<table class="table">
<thead>
<tr class="header">
<th>Protocol/Application</th>
<th>Default Port</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>HTTP</td>
<td>80</td>
</tr>
<tr class="even">
<td>HTTPS</td>
<td>443</td>
</tr>
<tr class="odd">
<td>SSH</td>
<td>22</td>
</tr>
<tr class="even">
<td>PostgreSQL</td>
<td>5432</td>
</tr>
<tr class="odd">
<td>RStudio Server</td>
<td></td>
</tr>
<tr class="even">
<td>Shiny Server</td>
<td></td>
</tr>
<tr class="odd">
<td>JupyterHub</td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="cheatsheet-debugging-tips" class="level2" data-number="D.11">
<h2 data-number="D.11" class="anchored" data-anchor-id="cheatsheet-debugging-tips"><span class="header-section-number">D.11</span> Cheatsheet: Debugging Tips</h2>
<p>If things are going poorly on your server, here are some steps you might take to try to troubleshoot.</p>
<section id="check-storage-usage" class="level3" data-number="D.11.1">
<h3 data-number="D.11.1" class="anchored" data-anchor-id="check-storage-usage"><span class="header-section-number">D.11.1</span> Check storage usage</h3>
<p>A common culprit for weird server behavior is running out of storage space. There are two handy commands for monitoring the amount of storage you’ve got – <code>du</code> and <code>df</code>. These commands are almost always used with the <code>-h</code> flag to put file sizes in human-readable formats.</p>
<p><code>df</code>, for disk free, shows the capacity left on the device where the directory sits.</p>
<p>For example, here’s the result of running the <code>df</code> command on the chapters directory on my laptop that includes this chapter.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a> <span class="ex">❯</span> df <span class="at">-h</span> chapters                                                    </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Filesystem</span>     Size   Used  Avail Capacity iused      ifree %iused  Mounted on</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/disk3s5</span>  926Gi  163Gi  750Gi    18% 1205880 7863468480    0%   /System/Volumes/Data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>So you can see that the chapters folder lives on a disk called <code>/dev/disk3s5</code> that’s a little less than 1Tb and is 18% full – no problem. On a server this can be really useful to know, because it’s quite easy to switch a disk out for a bigger one in the same spot.</p>
<p>If you’ve figured out that a disk is full and need to figure out where the culprits are, the <code>du</code> can be useful. <code>du</code>, short for disk usage, gives you the size of individual files inside a directory. It’s particularly useful in combination with the <code>sort</code> command.</p>
<p>For example, here’s the result of running <code>du</code> on the <code>chapters</code> directory where the text files for this book live.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a> <span class="ex">❯</span> du <span class="at">-h</span> chapters <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-h</span>                                      </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a> <span class="ex">44K</span>    chapters/sec2/images-servers</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">124K</span>    chapters/sec3/images-scaling</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="ex">156K</span>    chapters/sec2/images</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ex">428K</span>    chapters/sec2/images-traffic</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="ex">656K</span>    chapters/sec1/images-code-promotion</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="ex">664K</span>    chapters/sec1/images-docker</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="ex">1.9M</span>    chapters/sec1/images-repro</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="ex">3.4M</span>    chapters/sec1</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="ex">3.9M</span>    chapters/sec3/images-auth</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="ex">4.1M</span>    chapters/sec3</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="ex">4.5M</span>    chapters/sec2/images-networking</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="ex">5.3M</span>    chapters/sec2</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a> <span class="ex">13M</span>    chapters</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>So if I were thinking about cleaning up this directory, I could see that my <code>images-networking</code> directory in <code>sec2</code> is the biggest single bottom-level directory. If you find yourself needing to find big files on your Linux server, it’s worth spending some time with the help pages for <code>du</code>. There are lots of really useful options.</p>
<p><code>du</code> is useful for identifying large files and directories on a server.</p>
</section>
<section id="look-at-whats-running" class="level3" data-number="D.11.2">
<h3 data-number="D.11.2" class="anchored" data-anchor-id="look-at-whats-running"><span class="header-section-number">D.11.2</span> Look at what’s running</h3>
<p>A running program is a <em>process</em>. For example, when you type <code>python</code> on the command line to open a REPL, that starts a single Python process. If you were to start a second terminal session and run <code>python</code> again, you’d have a second Python process.</p>
<p>Complicated programs often involves multiple than one process. For example, running the RStudio IDE involves (at minimum) one process for the IDE itself and one for the R session that it uses in the background. The relationships between these different processes is mostly hidden from you – the end user.</p>
<p>As a server admin, finding runaway processes, killing them, and figuring out how to prevent the them from happening again is a pretty common task. Runaway processes usually misbehave by using up the entire CPU or filling up the entire machine’s RAM.</p>
<p>Like users and groups have ids, each process has a numeric process id (<code>pid</code>). Each process also has an owner – this can be either a service account or a real user. If you’ve got a rogue process, the pattern is to try to find the process and make note of its <code>pid</code>. Then you can immediately end the process by <code>pid</code> with the <code>kill</code> command.</p>
<p>So, how do you find a troublesome process?</p>
<p>The <code>top</code> command is a good first stop. <code>top</code> shows the top CPU-consuming processes in real time. Here’s the <code>top</code> output from my machine as I write this sentence.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">PID</span>    COMMAND      %CPU TIME     <span class="co">#TH    #WQ  #PORT MEM    PURG   CMPRS PGRP</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span>      kernel_task  16.1 03:56:53 530/10 0    0     2272K  0B     0B    0</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">16329</span>  WindowServer 16.0 01:53:20 23     6    3717  941M-  16M+   124M  16329</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="ex">24484</span>  iTerm2       11.3 00:38.20 5      2    266-  71M-   128K   18M-  24484</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="ex">29519</span>  top          9.7  00:04.30 1/1    0    36    9729K  0B     0B    29519</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="ex">16795</span>  Magnet       3.1  00:39.16 3      1    206   82M    0B     39M   16795</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="ex">16934</span>  Arc          1.8  18:18.49 45     6    938   310M   144K   61M   16934</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="ex">16456</span>  Messages     1.7  06:58.27 4      1    603   138M   2752K  63M   16456</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span>      launchd      1.7  13:41.03 4/1    3/1  3394+ 29M    0B     6080K 1</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="ex">573</span>    diagnosticd  1.4  04:31.97 3      2    49    2417K  0B     816K  573</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="ex">16459</span>  zoom.us      1.3  66:38.37 30     3    2148  214M   384K   125M  16459</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="ex">16575</span>  UniversalCon 1.3  01:15.89 2      1    131   12M    0B     2704K 16575</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In most instances, the first three columns are the most useful. You’ve got the name of the process (<code>COMMAND</code>) and how much CPU its using. Right now, nothing is using very much CPU. If I were to find something concerning – perhaps an R process that is using 500% of CPU – I would want to take notice of its <code>pid</code> to kill it with <code>kill</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
So much CPU?
</div>
</div>
<div class="callout-body-container callout-body">
<p>For <code>top</code> (and most other commands), CPU is expressed as a percent of <em>single core</em> availability. So, on a modern machine with multiple cores, it’s very common to see CPU totals well over 100%. Seeing a single process using over 100% of CPU is rarer.</p>
</div>
</div>
<p>The <code>top</code> command takes over your whole terminal. You can exit with <code>Ctrl + c</code>.</p>
<p>Another useful command for finding runaway processes is <code>ps aux</code>. It lists a snapshot of all processes running on the system, along with how much CPU and RAM they’re using. You can sort the output with the <code>--sort</code> flag and specify sorting by cpu with <code>--sort -%cpu</code> or by memory with <code>--sort -%mem</code>.</p>
<p>Because <code>ps aux</code> returns <em>every</em> running process on the system, you’ll probably want to pipe the output into <code>head</code>.</p>
<p>Another useful way to use <code>ps aux</code> is in combination with <code>grep</code>. If you pretty much know what the problem is – often this might be a runaway R or Python process – <code>ps aux | grep &lt;name&gt;</code> can be super useful to get the <code>pid</code>.</p>
<p>For example, here are the RStudio processes currently running on my system.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a> <span class="op">&gt;</span> ps <span class="ex">aux</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="st">"RStudio"</span>                                                                                      <span class="pp">[</span><span class="ss">10:21:18</span><span class="pp">]</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">USER</span>               PID  %CPU %MEM      VSZ    RSS   TT  STAT STARTED      TIME COMMAND</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ex">alexkgold</span>        23583   0.9  1.7 37513368 564880   <span class="pp">??</span>  S    Sat09AM  17:15.27 /Applications/RStudio.app/Contents/MacOS/RStudio</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="ex">alexkgold</span>        23605   0.5  0.4 36134976 150828   <span class="pp">??</span>  S    Sat09AM   1:58.16 /Applications/RStudio.app/Contents/MacOS/rsession <span class="at">--config-file</span> none <span class="at">--program-mode</span> desktop </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="make-sure-the-right-ports-are-open" class="level3" data-number="D.11.3">
<h3 data-number="D.11.3" class="anchored" data-anchor-id="make-sure-the-right-ports-are-open"><span class="header-section-number">D.11.3</span> Make sure the right ports are open</h3>
<p>Networking is a complicated topic, which we’ll approach with great detail in <a href="../sec2/2-6-networking.html">Chapter&nbsp;<span>12</span></a>. Most often, you’ll want to check that the application you’re running is actually accessible to the outside world, assuming you want it to be.</p>
<p>The main command to help you see what ports are being used and by what services is the <code>netstat</code> command. <code>netstat</code> returns the services that are running and their associated ports. <code>netstat</code> is generally most useful with the <code>-tlp</code> flags to show programs that are listening and the programs associated.</p>
<p>Sometimes you <em>know</em> you’ve got a service running on your machine, but you just can’t seem to get the networking working. It can be useful to access the service directly without having to deal with networking.</p>
<p>SSH port forwarding allows you to take the output of a port on a remote server, route it through SSH, and display it as if it were on a local port. For example, let’s say you’ve got RStudio Server running on my server but the web interface isn’t working. If you’ve got SSH working properly, you can double check that the service is working and the issue really is networking.</p>
<p>I find that the syntax for port forwarding completely defies my memory and I have to google it every time I use it. For the kind of port forwarding you’ll use most often in debugging, you’ll use the <code>-L</code> flag to get a remote port locally.</p>
<p><code>ssh -L &lt;local port&gt;:&lt;remote ip&gt;:&lt;remote port&gt; &lt;ssh hostname&gt;</code></p>
<p>The local would be your laptop and the remote your server, so if you had RStudio Server running on a server on port <code>3939</code>. Then you could run <code>ssh -L 3939:localhost:3939 my-user@my-ds-workbench.com</code>. To get whatever is at port <code>3939</code> on the server (hopefully RStudio Workbench!) by going to <code>localhost:3939</code> in the laptop’s browser.</p>
<p>Most often, you’ll use the same port locally and on the remote and the remote ip will be <code>localhost</code>.</p>
</section>
<section id="check-your-path" class="level3" data-number="D.11.4">
<h3 data-number="D.11.4" class="anchored" data-anchor-id="check-your-path"><span class="header-section-number">D.11.4</span> Check your path</h3>
<p>Let’s say you want to open Python on your command line. One option would be to type the complete path to a Python install every time. For example, I’ve got a version of Python in <code>/usr/bin</code>, so <code>/usr/bin/python3</code> works.</p>
<p>But in most cases, it’s nice to just type <code>python3</code> and have the right version open up.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python3</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Python</span> 3.9.6 <span class="er">(</span><span class="ex">default,</span> May  7 2023, 23:32:45<span class="kw">)</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="ex">[Clang</span> 14.0.3 <span class="er">(</span><span class="ex">clang-1403.0.22.14.1</span><span class="kw">)</span><span class="ex">]</span> on darwin</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Type</span> <span class="st">"help"</span>, <span class="st">"copyright"</span>, <span class="st">"credits"</span> or <span class="st">"license"</span> for more information.</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In some cases, this isn’t optional. Certain applications will rely on others being available, like RStudio needing to find R. Or Jupyter Notebook finding your Python kernels.</p>
<p>So how does the operating system know where to find those applications and files?</p>
<p>If you ever want to check which actual executable is being used by a command, you can use the <code>which</code> command. For example, on my system this is the result of <code>which python3</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a> <span class="ex">❯</span> which python3                                                    </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">/usr/bin/python3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The operating system knows how to find the actual runnable programs on your system via the <em>path</em>. The path is a set of directories that the system knows to search when it tries to run a path. The path is stored in an environment variable conveniently named <code>PATH</code>.</p>
<p>You can check your path at any time by echoing the <code>PATH</code> environment variable with <code>echo $PATH</code>. On my MacBook, this is what the path looks like.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a> <span class="ex">❯</span> echo <span class="va">$PATH</span>                                                      </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ex">/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When you install a new piece of software you’ll need to add it two the path. Say I was to install a new version of Python in <code>/opt/python</code>. That’s not on my <code>PATH</code>, so my system wouldn’t be able to find it.</p>
<p>I can get it on the path in one of two ways – the first option would be to add <code>/opt/python</code> to my <code>PATH</code> every time a terminal session starts usually via a file in <code>/etc</code> or the <code>.zshrc</code>. The other option is to create a <em>symlink</em> to the new application in a directory already on the <code>PATH</code>. A symlink does what it sounds like – creates a way to link to a file from a different directory without moving it.</p>
<p>Symlinks are created with the <code>ln</code> command.</p>
</section>
</section>
<section id="comprehension-questions" class="level2" data-number="D.12">
<h2 data-number="D.12" class="anchored" data-anchor-id="comprehension-questions"><span class="header-section-number">D.12</span> Comprehension Questions</h2>
<ol type="1">
<li>How would you do the following?
<ol type="1">
<li><p>Find and kill the process IDs for all running <code>rstudio-server</code> processes.</p></li>
<li><p>Figure out which port <code>JupyterHub</code> is running on.</p></li>
<li><p>Create a file called <code>secrets.txt</code>, open it with vim, write something in, close and save it, and make it so that only you can read it.</p></li>
</ol></li>
</ol>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>This command actually cuts off the header line of the table. What I actually ran was <code>ps aux | grep "RStudio\|USER"</code>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../chapters/append/lab-map.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Lab Map</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Copyright 2022, Alex K Gold</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link active" href="https://github.com/akgold/do4ds" aria-current="page">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/alexkgold">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>