<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DevOps for Data Science - 7&nbsp; The Command Line + SSH</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../chapters/sec2/2-3-linux-admin.html" rel="next">
<link href="../../chapters/sec2/2-1-cloud.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BTSMMRMH08"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-BTSMMRMH08', { 'anonymize_ip': true});
</script>
<script src="../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">The Command Line + SSH</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">DevOps for Data Science</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/akgold/do4ds" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="" title="Share" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-share"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
            <i class="bi bi-bi-twitter pe-1"></i>
          Twitter
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
            <i class="bi bi-bi-facebook pe-1"></i>
          Facebook
          </a>
        </li>
    </ul>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">Welcome!</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/intro.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../chapters/sec1/1-0-sec-intro.html" class="sidebar-item-text sidebar-link">DevOps Lessons for Data Science</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec1/1-1-code-promotion.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Code promotion and integration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec1/1-2-env-as-code.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Environments as Code</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec1/1-3-proj-components.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Science Project Architecture</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec1/1-4-monitor-log.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Logging and Monitoring</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec1/1-5-docker.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Docker for Data Science</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../chapters/sec2/2-0-sec-intro.html" class="sidebar-item-text sidebar-link">The DIY Data Science Environment</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-1-cloud.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Getting Started with the Cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-2-cmd-line.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">The Command Line + SSH</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-3-linux-admin.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Basic Linux SysAdmin</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-4-understanding-traffic.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Computer Networks and the Internet</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec2/2-5-servers.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Choosing the right server for you</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../chapters/sec3/3-0-sec-intro.html" class="sidebar-item-text sidebar-link">Making it Enterprise-Grade</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec3/3-1-os-ds-in-ent.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Open Source Data Science in the Enterprise</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec3/3-2-secure-networking.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Upgraded Networking</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec3/3-3-auth.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Logging in with auth</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/sec3/3-4-scaling.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Scaling</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Appendices</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/append/docker-cheatsheet.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Docker Cheatsheet</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#setting-up-the-command-line" id="toc-setting-up-the-command-line" class="nav-link active" data-scroll-target="#setting-up-the-command-line"><span class="toc-section-number">7.1</span>  Setting up the command line</a>
  <ul class="collapse">
  <li><a href="#choosing-your-terminal" id="toc-choosing-your-terminal" class="nav-link" data-scroll-target="#choosing-your-terminal"><span class="toc-section-number">7.1.1</span>  Choosing your terminal</a></li>
  <li><a href="#choosing-and-configuring-your-shell" id="toc-choosing-and-configuring-your-shell" class="nav-link" data-scroll-target="#choosing-and-configuring-your-shell"><span class="toc-section-number">7.1.2</span>  Choosing and configuring your shell</a></li>
  </ul></li>
  <li><a href="#accessing-servers-via-ssh" id="toc-accessing-servers-via-ssh" class="nav-link" data-scroll-target="#accessing-servers-via-ssh"><span class="toc-section-number">7.2</span>  Accessing Servers via SSH</a></li>
  <li><a href="#understanding-bash-commands" id="toc-understanding-bash-commands" class="nav-link" data-scroll-target="#understanding-bash-commands"><span class="toc-section-number">7.3</span>  Understanding bash commands</a></li>
  <li><a href="#basic-navigation-and-interaction" id="toc-basic-navigation-and-interaction" class="nav-link" data-scroll-target="#basic-navigation-and-interaction"><span class="toc-section-number">7.4</span>  Basic navigation and interaction</a>
  <ul class="collapse">
  <li><a href="#how-does-compare-to-c" id="toc-how-does-compare-to-c" class="nav-link" data-scroll-target="#how-does-compare-to-c"><span class="toc-section-number">7.4.1</span>  How does <code>/</code> compare to <code>C:</code>?</a></li>
  <li><a href="#reading-text-files" id="toc-reading-text-files" class="nav-link" data-scroll-target="#reading-text-files"><span class="toc-section-number">7.4.2</span>  Reading text files</a></li>
  <li><a href="#managing-files-and-directories" id="toc-managing-files-and-directories" class="nav-link" data-scroll-target="#managing-files-and-directories"><span class="toc-section-number">7.4.3</span>  Managing files and directories</a></li>
  <li><a href="#moving-things-to-and-from-the-server" id="toc-moving-things-to-and-from-the-server" class="nav-link" data-scroll-target="#moving-things-to-and-from-the-server"><span class="toc-section-number">7.4.4</span>  Moving things to and from the server</a></li>
  <li><a href="#writing-files-on-the-command-line" id="toc-writing-files-on-the-command-line" class="nav-link" data-scroll-target="#writing-files-on-the-command-line"><span class="toc-section-number">7.4.5</span>  Writing files on the command line</a></li>
  </ul></li>
  <li><a href="#lab-accessing-your-server" id="toc-lab-accessing-your-server" class="nav-link" data-scroll-target="#lab-accessing-your-server"><span class="toc-section-number">7.5</span>  Lab: Accessing your server</a>
  <ul class="collapse">
  <li><a href="#ssh-into-the-server" id="toc-ssh-into-the-server" class="nav-link" data-scroll-target="#ssh-into-the-server"><span class="toc-section-number">7.5.1</span>  SSH into the server</a></li>
  </ul></li>
  <li><a href="#comprehension-questions" id="toc-comprehension-questions" class="nav-link" data-scroll-target="#comprehension-questions"><span class="toc-section-number">7.6</span>  Comprehension Questions</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/akgold/do4ds/edit/main/chapters/sec2/2-2-cmd-line.qmd" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-cmd-line" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">The Command Line + SSH</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>The biggest difference between working on your desktop and working on a server is that servers generally do not have graphical user interfaces (GUIs).</p>
<p>If you want to adjust the system settings on your laptop or navigate from directory to directory, you can click through a file tree or open up your preferences pane. On a server, interaction is via the command line – an all-text interface where you type commands.</p>
<p><img src="images-servers/desktop-vs-server.drawio.svg" title="Desktop vs Server" class="img-fluid"></p>
<p>Once nice thing is that once you feel comfortable using the command line on a server, you’ll probably find that there are many things that will get easier for you locally as well! Plus you get to feel like a real hacker.</p>
<p>In this chapter we’ll walk through getting access to the command line on your computer, using it to connect to your remote server, and how to do basic interactions with a Linux system from the command line.</p>
<p>I’d recommend reading this chapter even if you’ve used SSH or the command line before. It’s probable you didn’t really understand <em>why</em> you took the steps you did. Hopefully, by the time you’ve finished this chapter you might have to google the exact commands, but you’ll never again confuse a public and a private key and what to do with each (we’ve all been there).</p>
<section id="setting-up-the-command-line" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="setting-up-the-command-line"><span class="header-section-number">7.1</span> Setting up the command line</h2>
<p>Before you start interacting with the command line on your machine, it’s helpful to have a mental model of what you’re interacting with.</p>
<p>There are three layers to interacting with the command line – the terminal, the shell, and the operating system commands.</p>
<p>The <em>terminal</em> is the visual program where you’ll type in commands. Depending on which terminal you’re using, the colors and themes available for the window, as will the options for having multiple tabs and panes, and the keyboard shortcuts you’ll use to manage them.</p>
<p>It is possible to spend A LOT of time customizing your terminal to be exactly what you like. Some might argue it is not be the best use of your time. Such people are no fun, and and having a terminal that’s super customized to what you like is great.</p>
<p>The <em>shell</em> is the program you’re interacting with as you’re typing in commands. It’s what matches the words you type to actual commands or programs on your system. Depending on which shell you choose, you’ll get different options for autocompletion, handy plugins, and coloring and theming of the actual text in your terminal.</p>
<p>There is some overlap of things you can customize via the terminal vs the shell, so mix and match to your heart’s content.</p>
<p>Lastly, the <em>operating system</em> is what actually runs the commands you’re typing in. So the set of commands available to you will differ by whether you’re using Windows or Mac or Linux.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<p>
</p><pre class="mermaid mermaid-js" data-tooltip-selector="#mermaid-tooltip-1">graph LR
    A[A Human] --&gt; |Types| B[Commands]
    A --&gt; |Opens| E
    E[Terminal] --&gt; |Opens| C
    C[Shell] --&gt; |Dispatches| B
    D[Operating System] --&gt; |Defines the set of| B
    D[Operating System] --&gt; |Runs| B
</pre>
<div id="mermaid-tooltip-1" class="mermaidTooltip">

</div>
<p></p>
</div>
</div>
</div>
<p>In the next few sections of this chapter, we’ll get into how to set up your terminal and shell so that it looks and behaves exactly the way you want.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>I haven’t used a Windows machine in many years. I’ve collected some recommendations here, but I can’t personally vouch for them the way I can my Mac recommendations.</p>
</div>
</div>
<section id="choosing-your-terminal" class="level3" data-number="7.1.1">
<h3 data-number="7.1.1" class="anchored" data-anchor-id="choosing-your-terminal"><span class="header-section-number">7.1.1</span> Choosing your terminal</h3>
<p>The terminal is the graphical program you’ll interact with to open terminal windows, have tabs, and do some theming of the window itself.</p>
<p>If you’re using a Mac, you’ve got a built-in terminal app, conveniently called <code>Terminal</code>. It’s fine.</p>
<p>If you’re going to be using your terminal more than occasionally, I’d recommend downloading and switching to the the free [iTerm2](https://iterm2.com/), which adds a bunch of niceties like better theming and multiple tabs.</p>
<p>If you’re using Windows, there are a variety of alternative terminals you can try, but the built-in terminal is the favorite of many users. Experiment if you like, but feel free to stick with the default.</p>
</section>
<section id="choosing-and-configuring-your-shell" class="level3" data-number="7.1.2">
<h3 data-number="7.1.2" class="anchored" data-anchor-id="choosing-and-configuring-your-shell"><span class="header-section-number">7.1.2</span> Choosing and configuring your shell</h3>
<p>The default shell for MacOS (and Linux) is called bash. It’s a great shell, and it hasn’t been replaced in a very long time. Many people – including me – prefer to use other shells that build on top of bash, adding nicer theming and convenience features.</p>
<p>If you don’t already have a favorite bash alternative, I recommend zsh. It has a few advantages over bash out of the box, like better autocompletion. It also has a huge ecosystem of themes and plugins that can make your shell way prettier and more functional. There are plugins that do everything from displaying your git status on the command line to controlling your Spotify playlist.</p>
<p>Other popular alternative shells include Ksh and Fish.</p>
<p>The main reason to use zsh is the plugin ecosystem – so you’re going to want a plugin manager. The two most popular options are OhMyZsh and Prezto. I prefer and recommend prezto, but the choice is really up to you.</p>
<p>I’m not going to go through the steps of installing these tools – there are numerous online walkthroughs and guides that you can google.</p>
<p>But it is a little confusing to know what to customize where, so here’s the high level overview if you’ve installed iTerm2, zsh, and prezto. You’ll customize the look of the window and the tab behavior in the iTerm2 preferences and customize the text theme and plugins via prezto.</p>
<p>Since you’re configuring your plugins via prezto using files like the <code>.preztorc</code>, you shouldn’t need to customize zsh much directly.</p>
<p>Windows comes with two shells built in, the Command shell (<code>cmd</code>) and the PowerShell. The command shell is older and has been superseded by PowerShell. If you’re just getting started, you absolutely should just work with PowerShell. If you’ve been using Command shell on a Windows machine for a long time, most Command shell command work in PowerShell, so it may be worth switching over.</p>
<p>Once you’ve installed PowerShell, many people like customizing it with Oh My Posh.</p>
</section>
</section>
<section id="accessing-servers-via-ssh" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="accessing-servers-via-ssh"><span class="header-section-number">7.2</span> Accessing Servers via SSH</h2>
<p>Now that you’re set up with a terminal and shell, let’s dig into how to SSH into a remote server.</p>
<p>SSH – short for Secure (Socket) Shell – facilitates secure two-way communication between your computer and the command line on a server. Using SSH, you can provide a server with commands and rest easy that they’re going where you think and that the output is securely coming back.</p>
<p>When you’re interacting with a server using SSH, you’ll have a terminal open on your laptop, but all the commands are actually running off on the remote server. This means that if you are using a Windows machine, you’ll use Windows commands to open the SSH connection to the server and then switch to using Linux commands to actually administer the server.</p>
<p>Logging into a server is straightforward once its configured, you’ll just use <code>ssh &lt;server url&gt;</code> to get an interactive shell on that server.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Debugging SSH
</div>
</div>
<div class="callout-body-container callout-body">
<p>SSH has one of my favorite debugging modes.</p>
<p>If you’re ever struggling with SSH, just add a <code>-v</code> to your command for <strong>v</strong>erbose mode. If that’s not enough information, add another v for <code>-vv</code>, and even another!</p>
<p>Every <code>v</code> you add (up to 3) will make the output more verbose.</p>
</div>
</div>
<p>But in order to get there, you’ll need to configure <em>ssh keys</em>. SSH keys are what allows your computer and the server to mutually verify identity and set up a secure connection.</p>
<p>SSH keys come in pairs with two components – the <em>public key</em> and the <em>private key</em>.</p>
<p>I think these terms are somewhat of a misnomer. It would actually be better to call the private key the <strong>key</strong> and the public key the <strong>lock</strong>.</p>
<p>This is why you can give your public key to a server or service that you might not fully control. Someone who has your public key can verify that your private key is the one that fits that public key – but it’s basically impossible to reverse engineer the private key with the public key in hand.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Public key cryptography is cool
</div>
</div>
<div class="callout-body-container callout-body">
<p>As an SSH user, you absolutely do not need to understand the underlying mathematics of public key cryptography, but conceptually quite simple. So forgive me this digression.</p>
<p>Public key cryptography relies on mathematical operations that are easy in one direction, but really hard to reverse.</p>
<p>Let’s say I ask you to find two numbers to multiply to equal 91 (<span class="math inline">\(1 * 91\)</span> doesn’t count). It’ll probably take you at least a minute to discover that the only numbers that work are 7 and 13.</p>
<p>But if I were to give you 7 and 13 from the beginning, it’d be quick to check that <span class="math inline">\(7 * 13 = 91\)</span>.</p>
<p>That’s how public key cryptography works – your public key is a number with only two factors and your private key is those two factors. Logging in with the private key is quick, because checking multiplication is easy, but you can share the public key as broadly as you want, because reverse-engineering the two factors is hard. The difference is that actual public key cryptography doesn’t use small numbers like 91. It uses numbers with 91 or 9,191 <em>digits</em>.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>SSH public keys are <em>very</em> big numbers and modern encryption standards mean that it’s basically impossible to break a public SSH key.</p>
</div>
</div>
<p>However, it is totally possible to compromise the security of an SSH connection by being sloppy with your private keys. So while SSH is cyptographically super secure, the whole system is only as secure as you. Always keep your private keys securely in the place where they were created and share only the public keys.</p>
<p>So that means if you need to log in to your server from your laptop, you’ll create a keypair on your laptop and share your public key to the server. If you need to SSH <em>from</em> the server to another server or to a service that uses SSH, like GitHub, you’ll create another SSH key on the server and use that public key on the far end of the connection.</p>
</section>
<section id="understanding-bash-commands" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="understanding-bash-commands"><span class="header-section-number">7.3</span> Understanding bash commands</h2>
<p>Now that we understand <em>how</em> to connect, let’s dig into what we’re going to be doing when we get there. Because the server we’ll be running is a Linux server, you’ll be using <code>bash</code> when you get there, regardless of the operating system on your computer.</p>
<p>The philosophy in <code>bash</code> is to provide small programs that each do one small thing well. The standard patterns for using <code>bash</code> commands involve the command itself, <em>arguments</em>, and <em>options</em>.</p>
<p>A command is the program you tell the command line to run, usually an abbreviation of the word for what you want to do. For example, the command to <em>list</em> the contents of a directory is <code>ls</code>.</p>
<p>Arguments tell the command what to run on. They come after the command with a space in between. For example, if I want to run <code>ls</code> on the directory <code>/home/alex</code>, I would run <code>ls /home/alex</code> on the command line.</p>
<p>Many commands have default arguments. For example, <code>ls</code> runs by default on the directory I’m currently in. So if I’m in <code>/home/alex</code>, running <code>ls</code> and running <code>ls /home/alex</code> would return the same thing.</p>
<p>Options or flags are sub-commands that modify how the command operates. Flags are denoted by having one or more dashes before them. For example, the <code>ls</code> command, which lists files, has the flag <code>-l</code>, which indicates that the files should be displayed as a list.</p>
<p>Flags always come in between the command and any arguments to the command. So, for example, if I want to get the files in <code>/home/alex</code> as a list, I can run <code>ls -l /home/alex</code> or navigate to <code>/home/alex</code> and run <code>ls -l</code>.</p>
<p>Some flags have arguments themselves. Arguments to flags appear after the flag with a space in between. So, for example, if you’re using the <code>-l</code> flag on <code>ls</code>, you can use the <code>-D</code> flag to format the datetime when the file was last updated.</p>
<p>So, for example, running <code>ls -l -D %Y-%m-%dT%H:%M:%S /home/alex</code> will list all the files in <code>/home/alex</code> with the date-time of the last update formatted in ISO 8601 format (which is always the correct format for dates).</p>
<p>It’s nice that this structure is standard. You always know that a bash command will be formatted as <code>&lt;command&gt; &lt;flags + flag args&gt; &lt;command args&gt;</code>. The downside is that having the main argument come all the way at the end, after all the flags, can make it really hard to mentally parse commands if you don’t know them super well. There’s no magic trick to make it easier, but you’re not alone – and there is help available!</p>
<p>All of the flags and arguments for commands can be found in the program’s <em>man page</em> (short for manual). You can access the man page for any command with <code>man &lt;command&gt;</code>. You can scroll the man page with arrow keys and exit with <code>q</code>.</p>
<p>Bash commands can get long, so it’s often nice to split them over multiple lines. You can tell bash you want it to keep reading after a line break by ending the line with a space and a <code>\</code>. Here’s what that might look like:</p>
<pre><code>&gt; cmd1 arg1 \
   arg2 \ 
   arg3</code></pre>
<table class="table">
<thead>
<tr class="header">
<th>Symbol</th>
<th>What it is</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>man</code></td>
<td><strong>man</strong>ual</td>
</tr>
<tr class="even">
<td><code>q</code></td>
<td>Exit man pages (and many other situations)</td>
</tr>
<tr class="odd">
<td><code>\</code></td>
<td>Continue command on new line</td>
</tr>
</tbody>
</table>
</section>
<section id="basic-navigation-and-interaction" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="basic-navigation-and-interaction"><span class="header-section-number">7.4</span> Basic navigation and interaction</h2>
<p>Being on the command line is different from having a desktop with a mouse or touchpad to click on things. So the first thing to learn is how to navigate around a Linux environment and interact with the things you find there using Linux commands.</p>
<p>In Linux, <em>directories</em> define where you can be. A directory is just a container for files and other directories. In Linux, the entire file system is a tree (or perhaps an upside-down tree). The <em>root directory, <code>/</code></em> is the base of the tree and a <code>/</code> in between two directories means that it’s a sub-directory. So the directory <code>/home/alex</code> is the <code>alex</code> directory, which is contained in <code>home</code>, which is in the root directory.</p>
<p>In Linux, every directory is a sub-directory of <code>/</code> or a sub-directory of a sub-directory of <code>/</code> or…you get the picture. The sequence of directories that defines a location is called a <em>file path</em>.</p>
<p>Every Linux command happens <em>at a particular file path</em> – called the working directory – and <em>as a particular user</em>. It won’t always matter, but in some cases the commands you’re allowed to run and what happens when you do so might be really different for one user vs another or the same user in different places.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<section id="how-does-compare-to-c" class="level3" data-number="7.4.1">
<h3 data-number="7.4.1" class="anchored" data-anchor-id="how-does-compare-to-c"><span class="header-section-number">7.4.1</span> How does <code>/</code> compare to <code>C:</code>?</h3>
<p>If you’re a Windows person, you might think this is analogous to <code>C:</code>. You’re not wrong, but the analogy is imprecise.</p>
<p>In Linux, <em>everything</em> is a sub-directory of <code>/</code>, irrespective of the configuration of physical or virtual drives that houses the storage. Frequently, people will put extra drives on their server – a process called mounting – and house them at <code>/mnt</code> (short for…you guessed it).</p>
<p>That’s different from Windows. In Windows you can have multiple roots, one for each physical or logical disk you’ve got. That’s why your machine may have a <code>D:</code> drive, or if you have network shares, those will often be on <code>M:</code> or <code>N:</code> or <code>P:</code>, each with its own sub-directory.</p>
<p>At any time, you can get the path where you’re sitting with the <code>pwd</code> command, which is an abbreviation for <em>print working directory</em>. When you’re writing out a file path, the working directory is at <code>.</code>.</p>
<p>File paths can be either <em>absolute</em> – that is specified relative to the root – or <em>relative</em> to the working directory. You can always tell the difference because an absolute directory starts with <code>/</code> and a relative one will start with something else, often <code>.</code>.</p>
<p>In <a href="#sec-cmd-line">Chapter&nbsp;<span>7</span></a>, we talked about the <code>ls</code> command, which lists what’s in a directory. Now, you can understand that <code>ls</code> just has a default argument of <code>.</code>, so <code>ls /home/alex</code> will always return the contents list of <code>/home/alex</code>. If you’ve navigated there, <code>ls</code> and <code>ls .</code> would also return exactly the same thing.</p>
<p>Depending on what you’re doing, either absolute or relative paths make more sense. In general, absolute file paths make more sense when you want to access the same resource regardless of where the command is run, and relative file paths make more sense when you want to access a resource specific to where you run it.</p>
<p>Along with being able to inspect directories, it’s useful to be able to relocate there. You can change your working directory with the <code>cd</code> command, short for <em>change directory</em>.</p>
<p>Aside from <code>/</code> and <code>.</code>, there are two other special directories: <code>..</code> and <code>~</code>. <code>..</code> is the parent of the directory you’re in, so you can move to the parent of your current directory using <code>cd ..</code> and to it’s parent with <code>cd ../..</code>. <code>~</code> is the home directory of your user (assuming it has one). We’ll get more into what that means in a bit.</p>
<p><strong>Recap of commands in this section</strong></p>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does/is</th>
<th>Helpful options</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>/</code></td>
<td>system root</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>.</code></td>
<td>current working directory</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>ls</code></td>
<td><strong>l</strong>i<strong>s</strong>t objects in a directory</td>
<td><p><code>-l</code> - format as <strong>l</strong>ist</p>
<p><code>-a</code> - <strong>a</strong>ll (include hidden files)</p></td>
<td><p><code>$ ls .</code></p>
<p><code>$ ls -la</code></p></td>
</tr>
<tr class="even">
<td><code>pwd</code></td>
<td><strong>p</strong>rints w<strong>orking</strong> <strong>d</strong>irectory</td>
<td></td>
<td><code>$ pwd</code></td>
</tr>
<tr class="odd">
<td><code>cd</code></td>
<td><strong>c</strong>hange <strong>d</strong>irectory</td>
<td></td>
<td><code>$ cd ~/ Documents</code></td>
</tr>
<tr class="even">
<td><code>~</code></td>
<td>home directory of the current user</td>
<td></td>
<td><code>$ ls ~</code></td>
</tr>
</tbody>
</table>
</section>
<section id="reading-text-files" class="level3" data-number="7.4.2">
<h3 data-number="7.4.2" class="anchored" data-anchor-id="reading-text-files"><span class="header-section-number">7.4.2</span> Reading text files</h3>
<p>Many of the files you’ll interact with as a Linux admin are just text files. In particular, application configuration files and logs are usually just text files.</p>
<p>A very common pattern in Linux administration is to read a log file to look for errors or clues, adjust a configuration setting as a result, and then restart a process.</p>
<p>You’ll find that your skills in understanding the Linux file tree, moving around, and seeing what’s in directories will be very helpful in getting to the files. Once you’re there, it’ll be useful to know how to actually interact with files.</p>
<p>The commands you’ll use most often will be <code>cat</code> and <code>tail</code>. <code>cat</code> is the command to print a file, starting at the beginning. It’s often helpful to read through text files. Sometimes you’ve got a really big file and you want to see just the beginning. <code>less</code> is useful if you just want to start at the top with the ability to scroll down. <code>head</code> is especially useful to peer at the beginning of a plain text data file (like <code>csv</code>) as it prints the first few rows and exits – so you can preview the beginning of a very large data file very quickly.</p>
<p><code>tail</code> skips right to the <em>end</em> of a file. Log files usually are written so the newest part is <em>last</em> – so much so that “tailing a log file” is a synonym for looking at it. In some cases, you’ll want to tail a file as the process is still running and writing information to the log. You can get a live view of the end of the file using the <code>-f</code> flag (for <em>follow</em>).</p>
<p>Sometimes you want to search around inside a text file. You’re probably familiar with the power of regular expressions (regex) to search for specific character sequences in text strings. The Linux command to do regex searches is <code>grep</code>, which returns results that match the regex pattern you specify.</p>
<p>Using <code>grep</code> well requires being quite proficient in regex, so I usually just use it for simple searches.</p>
<p>The true power of <code>grep</code> is unlocked in combination with the pipe. The Linux pipe operator – <code>|</code> – takes the output of the previous command and sends it into the next one.</p>
<p>The pipe should feel extremely familiar to R users.</p>
<p>The <code>{magrittr}</code> pipe, <code>%&gt;%,</code> has become extremely popular as part of the tidyverse since its introduction in 2013. A base R pipe, <code>|&gt;</code>, was released as a part of R 4.1 in 2021.</p>
<p>sThe original pipe in <code>{magrittr}</code> took inspiration from both the Unix pipe and the pipe operator in the <code>F#</code> programming langauge.</p>
<p>So, for example, a combination I do all the time is to pipe the output of <code>ls</code> into <code>grep</code> when searching for a file inside a directory. So if I was searching for a file that contained the word <code>data</code> somewhere in the filename inside a specific project directory, that might look something like <code>ls ~/projects/my-project | grep data</code>.</p>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 36%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
<th>Notes + Helpful options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>cat</code></td>
<td>Prints a file.</td>
<td></td>
</tr>
<tr class="even">
<td><code>less</code></td>
<td>Prints a file, but just a little.</td>
<td><p>Can be very helpful to look at a few rows of csv.</p>
<p>Lazily reads lines, so can be <em>much</em> faster than <code>cat</code> for big files.</p></td>
</tr>
<tr class="odd">
<td><code>tail</code></td>
<td>Look at the end of a file.</td>
<td><p>Useful for logs, where the newest part is <em>last</em>.</p>
<p>The <code>-f</code> flag is useful for a live view.</p></td>
</tr>
<tr class="even">
<td><code>head</code></td>
<td>Look at the beginning of a file.</td>
<td>Defaults to 10 lines, can specify a different number with <code>-n &lt;n&gt;</code>.</td>
</tr>
<tr class="odd">
<td><code>grep</code></td>
<td>Search a file using regex.</td>
<td><p>Writing regex can be a pain. I suggest testing expressions on regex101.com.</p>
<p>Often useful in combination with the pipe.</p></td>
</tr>
<tr class="even">
<td><code>|</code></td>
<td>the pipe</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="managing-files-and-directories" class="level3" data-number="7.4.3">
<h3 data-number="7.4.3" class="anchored" data-anchor-id="managing-files-and-directories"><span class="header-section-number">7.4.3</span> Managing files and directories</h3>
<p>You can copy a file from one place to another using the <code>cp</code> command. <code>cp</code> leaves behind the old file and adds the new one at the specified location. You can move a file with the <code>mv</code> command, which does not leave the old file behind.</p>
<p>If you want to remove a file entirely, you can use the <code>rm</code> command. There is also a version to remove a directory, <code>rmdir</code>.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Be very careful with the <code>rm</code> command.</p>
<p>Unlike on your desktop there’s no recycle bin! Things that are deleted are instantly deleted forever.</p>
</div>
</div>
<p>If you want to make a directory, <code>mkdir</code> makes a directory at the specified filepath. <code>mkdir</code> will only work if it’s creating the entire file path specified, so <code>mkdir dir/sub_dir</code> will only work if neither <code>dir</code> nor <code>dir/sub_dir</code> works. Using <code>mkdir -p dir/sub_dir</code>, will make whichever parts of the path don’t yet exist.</p>
<p>If you want to operate on every file inside a directory, you can use the wildcard, <code>*</code>. So let’s say you’ve got a <code>/data</code> directory that has a bunch of CSV files in it. You could create a new data directory with <code>mkdir new_data</code> and copy all the files in using <code>cp data/* new_data</code>. You can also use the wildcard for partial matches, so if <code>/data</code> included a mixture of CSV and PDF files, and you only wanted to copy the CSVs, you could do <code>cp data/*.csv new_data</code>.</p>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does/is</th>
<th>Notes + Helpful Options</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>rm</code></td>
<td><ul>
<li><strong> r</strong>e<strong>m</strong>ove: delete</li>
</ul>
<p>permanently!</p></td>
<td><p><code>-r</code> - recursively a directory and included files</p>
<p><code>-f</code> - force - dont ask for each file</p></td>
<td><p><code>$ r m  - rf old_docs/</code></p>
<p>BE VERY CAREFUL WITH <code>-rf</code></p></td>
</tr>
<tr class="even">
<td><code>cp</code></td>
<td><strong>c</strong>o<strong>p</strong>y</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>mv</code></td>
<td><strong>m</strong>o<strong>v</strong>e</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>*</code></td>
<td>wildcard</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>mkdir</code></td>
<td><strong>m</strong>a<strong>k</strong>e <strong>dir</strong>ectory</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="moving-things-to-and-from-the-server" class="level3" data-number="7.4.4">
<h3 data-number="7.4.4" class="anchored" data-anchor-id="moving-things-to-and-from-the-server"><span class="header-section-number">7.4.4</span> Moving things to and from the server</h3>
<p>It’s very common to have a file on your server you want to move to your desktop or vice versa. There are a few important commands to know to move things back and forth.</p>
<p>It’s generally easier to move a single file rather than a whole bunch. The <code>tar</code> command turns a set of files or whole directory into a single archive file, usually with the file suffix <code>tar.gz</code>. It also does file compression when it creates the archive file. The amount of compression depends on the content.</p>
<p>The <code>tar</code> command is used to both create and unpack (extract) archive files and telling it which one requires the use of several flags. I never remember them – this is a command I google every time I use it. The flags you’ll use most often are in the cheat sheet below.</p>
<p>Once you’ve created an archive file, you’ve got to move it. The <code>scp</code> command is the way to do this. <code>scp</code> – short for <strong>s</strong>ecure <strong>c</strong>o<strong>p</strong>y – is basically a combo of SSH and copy.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> Many <code>ssh</code> flags like <code>-i</code> to specify a particular SSH key apply to <code>scp</code>.</p>
<p>Since <code>scp</code> establishes an SSH connection, you need to make the request to somewhere that is accepting SSH connections. Hopefully your server is receiving SSH connections and your laptop is not. You’ll almost certainly have the experience at some point of being on your server and wanting to <code>scp</code> something to or from your laptop. You need to do the <code>scp</code> command from a regular terminal on your laptop, not one that’s already SSH-ed into your server.</p>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 36%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
<th>Notes + Helpful options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>tar</code></td>
<td>compress/decompress file/directory</td>
<td><p>Almost always used with flags.</p>
<p>Create is usually</p>
<p><code>tar -czf  &lt;a rchive name&gt; &lt;file(s)&gt;</code></p>
<p>Extract is usually</p>
<p><code>t ar -xfv &lt;archive name&gt;</code></p></td>
</tr>
<tr class="even">
<td><code>scp</code></td>
<td>Copy across <code>ssh</code></td>
<td>Can use most <code>ssh</code> flags</td>
</tr>
</tbody>
</table>
</section>
<section id="writing-files-on-the-command-line" class="level3" data-number="7.4.5">
<h3 data-number="7.4.5" class="anchored" data-anchor-id="writing-files-on-the-command-line"><span class="header-section-number">7.4.5</span> Writing files on the command line</h3>
<p>There will be many situations where writing into a text file will be handy while administering your server – for example, when changing config files. When you’re on the command line, you’ll use a command line tool for writing into those files – meaning you’ll only have your keyboard to navigate, save, and exit.</p>
<p>There are times when you want to make files or directories with nothing in them – the <code>touch</code> command makes a blank file at the specified file path.</p>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 33%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>What it does</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>touch</code></td>
<td>Creates file if doesn’t already exist.</td>
<td>Updates timestamp to current time if it does exist</td>
</tr>
</tbody>
</table>
<section id="command-line-text-editors" class="level4" data-number="7.4.5.1">
<h4 data-number="7.4.5.1" class="anchored" data-anchor-id="command-line-text-editors"><span class="header-section-number">7.4.5.1</span> Command line text editors</h4>
<p>There are two command line text editors you’ll probably encounter – both extremely powerful text editing tools: <code>nano</code> and <code>vi</code>/<code>vim</code>.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<p>You can open a file in either by typing <code>nano &lt;filename&gt;</code> or <code>vi &lt;filename&gt;</code>. Unfortunately for many newbie Linux Admins it’s extremely easy to get stuck inside a file with no hint of how to get out!</p>
<p>In <code>nano</code> there will be helpful prompts along the bottom to tell you how to interact with the file, so you’ll see once you’re ready to go, you can exit with <code>^x</code>. But what is <code>^</code>? On most keyboards, you can insert the caret character, <code>^</code>, by pressing <code>Shift + 6</code>. Pressing that key doesn’t seem to have any effect.</p>
<p>In this case, the <code>^</code> caret is short for <code>Ctrl</code> on Windows and for Command (<code>⌘</code>) on Mac. Phew!</p>
<p>Where <code>nano</code> gives you helpful – if obscure – hints, <code>vim</code> leaves you all on your own. It doesn’t even tell you you’re inside <code>vim</code>!</p>
<p>This is where many people get stuck and end up having to just exit and start a new terminal session. It’s not the end of the world if you do, but knowing a few <code>vim</code> commands can help you avoid that fate.</p>
<p>One of the most confusing things about <code>vim</code> is that you can’t edit the file when you first enter. That’s because <code>vim</code> keybindings were (1) developed before keyboards uniformly had arrow keys and (2) are designed to minimize how much your hands need to move.</p>
<p>When you enter, you’re in <em>normal mode</em>, which is for navigating through the file. If you feel like taking the time, learning <code>vim</code> keybindings can make navigating and editing text (code) files easier. I’d recommend spending some time learning! But if you don’t want to, you can skip all that by just pressing the <code>i</code> key.</p>
<p>Pressing the <code>i</code> key activates <em>insert mode</em>. For those of us who are comfortable in a word processor like Word or Google Docs, insert mode will feel very natural. You can type and words will appear and you can navigate with the arrow keys.</p>
<p>Once you’re done writing, you can go back to normal mode by pressing the <code>escape</code> key. In addition to navigating the file, normal mode allows you to do file operations like saving and quitting.</p>
<p>File operations are prefixed with a colon <code>:</code>. The two most common commands you’ll use are save (<strong>w</strong>rite) and <strong>q</strong>uit. You can combine these together, so you can save and quit in one command using <code>:wq</code>.</p>
<p>Sometimes you may want to exit without saving. In the course of administering a server, this can also happen if you open a file you’re allowed to read, but not to write.</p>
<p>If you try to exit with <code>:q</code>, you’ll again find yourself trapped in an endless loop of warnings that your changes won’t be saved. You can tell <code>vim</code> you mean it with the exclamation mark and exit using <code>:q!</code>.</p>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 41%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th>Vim Command</th>
<th>What it does</th>
<th>Notes + Helpful options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>^</code></td>
<td>Prefix for file command in <code>nano</code> editor.</td>
<td>Its the <code>⌘</code> or <code>Ctrl</code> key, not the caret symbol.</td>
</tr>
<tr class="even">
<td><code>i</code></td>
<td>Enter <strong>i</strong>nsert mode in <code>vim</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>escape</code></td>
<td>Enter normal mode in <code>vim</code>.</td>
<td></td>
</tr>
<tr class="even">
<td><code>:w</code></td>
<td><strong>W</strong>rite the current file in <code>vim</code> (from normal mode)</td>
<td>Can be combined to save and quit in one, <code>:wq</code></td>
</tr>
<tr class="odd">
<td><code>:q</code></td>
<td><strong>Q</strong>uit <code>vim</code> (from normal mode)</td>
<td><code>:q!</code> quit without saving</td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="lab-accessing-your-server" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="lab-accessing-your-server"><span class="header-section-number">7.5</span> Lab: Accessing your server</h2>
<p>If you followed the lab in <a href="2-1-cloud.html">Chapter&nbsp;<span>6</span></a>, you set up an EC2 server. In this lab, we’ll SSH in so you’re ready to start administering the server in the next chapter.</p>
<section id="ssh-into-the-server" class="level3" data-number="7.5.1">
<h3 data-number="7.5.1" class="anchored" data-anchor-id="ssh-into-the-server"><span class="header-section-number">7.5.1</span> SSH into the server</h3>
<p>The <code>.pem</code> key you downloaded when you set up the server is the skeleton key – it will automatically let you in with complete admin privleges. In <a href="2-3-linux-admin.html">Chapter&nbsp;<span>8</span></a>, we’ll set up a user with SSH on the server with more limited permissions.</p>
<p>In the meantime, we’re going to use the <code>.pem</code> key to get started on the server, but be extremely careful with the power of the <code>.pem</code> key.</p>
<p>Because the keypair is so powerful, AWS requires that you restrict the access pretty severely (more on what that means in <a href="2-3-linux-admin.html">Chapter&nbsp;<span>8</span></a>). If you try to use the keypair without first changing the permissions, you’ll be unable to and get a warning that looks something like:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource {{bash}} number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1"><a href="#cb2-1"></a></span>
<span id="cb2-2"><a href="#cb2-2"></a>\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a>\@ WARNING: UNPROTECTED PRIVATE KEY FILE! \@</span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a>\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@\@</span>
<span id="cb2-7"><a href="#cb2-7"></a></span>
<span id="cb2-8"><a href="#cb2-8"></a>Permissions 0644 for 'do4ds-lab-key.pem' are too open.</span>
<span id="cb2-9"><a href="#cb2-9"></a></span>
<span id="cb2-10"><a href="#cb2-10"></a>It is required that your private key files are NOT accessible by others.</span>
<span id="cb2-11"><a href="#cb2-11"></a></span>
<span id="cb2-12"><a href="#cb2-12"></a>This private key will be ignored.</span>
<span id="cb2-13"><a href="#cb2-13"></a></span>
<span id="cb2-14"><a href="#cb2-14"></a>Load key "do4ds-lab-key.pem": bad permissions</span>
<span id="cb2-15"><a href="#cb2-15"></a></span>
<span id="cb2-16"><a href="#cb2-16"></a>ubuntu\@ec2-54-159-134-39.compute-1.amazonaws.com: Permission denied (publickey).</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Before we can use it to open the server, we’ll need to make a quick change to the permissions on the key.</p>
<p>[QUESTION – does this happen on Windows? If so, what are commands to alter permissions?]</p>
<p>So let’s change the file permissions.</p>
<p>We’ll get into the details of how to use these commands in just a minute. For now, you’ll need to open a terminal window, navigate to the directory where the key is and change the file permissions.</p>
<p>On my machine that looks like:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="ex">$</span> cd ~/Documents/do4ds-lab</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="ex">$</span> chmod 600 do4ds-lab-key.pem</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can sub in the path to where your key is and the name you used for your key.</p>
<p>In your terminal type the following</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="ex">$</span> ssh <span class="at">-i</span> do4ds-lab-key.pem ubuntu@<span class="va">$SERVER_ADDRESS</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
SSH on Windows
</div>
</div>
<div class="callout-body-container callout-body">
<p>For a long time, Windows didn’t come with a built in SSH client, so you had to use PuTTY to do SSH from a Windows machine. Microsoft brought a native SSH client to Windows 10 in 2015, and it has been enabled by default since 2018.</p>
<p>If you run into any trouble using SSH commands on Windows, double check that you’ve enabled the <code>OpenSSH Client</code>.</p>
</div>
</div>
<p>Type <code>yes</code> when prompted, and you’re now logged in to your server!</p>
</section>
</section>
<section id="comprehension-questions" class="level2" data-number="7.6">
<h2 data-number="7.6" class="anchored" data-anchor-id="comprehension-questions"><span class="header-section-number">7.6</span> Comprehension Questions</h2>
<ol type="1">
<li>Draw a mental map that includes the following: terminal, shell, operating system, my laptop, server, ssh public key, ssh private key</li>
<li>If you don’t know the real commands for them, make up what you think the bash commands might be to do the following. So if you think you’d create a command called <code>cmd</code> with a flag <code>-p</code> and an argument <code>arg</code>, you’d write <code>cmd -p &lt;what p does&gt; &lt;arg&gt;</code>. In the next chapter you’ll get to see how close you got to the real thing:
<ol type="1">
<li><p>Change Directories, the only argument is where to go</p></li>
<li><p>Making a Directory, with an optional flag to make parents as you go. The only argument is the directory to make.</p></li>
<li><p>Remove files, with flags to do so recursively and to force it without checking in first. The only argument is the file or directory to remove.</p></li>
</ol></li>
</ol>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>It’s worth noting that modern encryption methods use substantially more convoluted mathematical operations than simple multiplication – but the idea is completely the same, and prime numbers are equally important.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>It’s interesting to note that this is also true on your computer - when you open a program, a particular user is running a program on your computer and opening a GUI window for you to interact with. The point-and-clicking obfuscates this, but it’s still true.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>It’s worth noting that <code>scp</code> is now considered “insecure and outdated”. The ways it is insecure are rather obscure and not terribly relevant for your workbench server. But if you’re moving a lot of data, you may want something faster. If so, I’d recommend more modern options like <code>sftp</code> and <code>rsync</code>. I probably wouldn’t bother if you’re not having issues with <code>scp</code> because these other commands have downsides like needing to learn an obscure syntax (<code>sftp</code>) or install an extra bit of software (<code>rsync</code>).<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p><code>vi</code> is the original fullscreen text editor for Linux. <code>vim</code> is its successor (<code>vim</code> stands for <code>vi</code> i<strong>m</strong>proved). For our purposes, they’re completely interchangeable.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../chapters/sec2/2-1-cloud.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Getting Started with the Cloud</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../chapters/sec2/2-3-linux-admin.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Basic Linux SysAdmin</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Copyright 2022, Alex K Gold</div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link active" href="https://github.com/akgold/do4ds" aria-current="page">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/alexkgold">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>